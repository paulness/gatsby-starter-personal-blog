<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Blog of Paul Ness | C#, SQL, MongoDB, React, Java, programming, ...]]></title><description><![CDATA[Helpful tutorials, code snippets for software developers.]]></description><link>https://www.paulness.com</link><generator>RSS for Node</generator><lastBuildDate>Mon, 16 Mar 2020 13:20:00 GMT</lastBuildDate><item><title><![CDATA[Find the number of non-contiguous islands in a 2d matrix world]]></title><description><![CDATA[A really common algorithm asked in interviews is  finding islands in a 2-dimensional matrix  such as below. You can find the number of…]]></description><link>https://www.paulness.com/number-of-islands/</link><guid isPermaLink="false">https://www.paulness.com/number-of-islands/</guid><content:encoded>&lt;p&gt;A really common algorithm asked in interviews is &lt;a href=&quot;https://leetcode.com/problems/number-of-islands/&quot;&gt;finding islands in a 2-dimensional matrix&lt;/a&gt; such as below.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# World with 2 islands, 1 huge and 1 tiny&lt;/span&gt;
world_1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;You can find the number of islands with the following algorithm&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Scan the world, the easy solution is just column by column, row by row&lt;/li&gt;
&lt;li&gt;If an island is encountered there is likely to be more land next to it in the directions &lt;code class=&quot;language-text&quot;&gt;N,S,E,W&lt;/code&gt;. Destroy the landmass by marking the contiguous elements as &lt;code class=&quot;language-text&quot;&gt;&amp;quot;0&amp;quot;&lt;/code&gt;. Once the entire island is destroyed tally this island as one new island found.&lt;/li&gt;
&lt;li&gt;Repeat&lt;/li&gt;
&lt;li&gt;Return the number of new islands found in the tally&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Hint: By destroying each island you arrive at, you never accidentally count parts of the same island as a new island&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Python code&lt;/h2&gt;
&lt;p&gt;This code &lt;a href=&quot;https://leetcode.com/submissions/detail/312860478/&quot;&gt;passes all tests in LeetCode&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
https://leetcode.com/problems/number-of-islands/
&quot;&quot;&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Solution&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot; Wrapper for LeetCode Solution &quot;&quot;&quot;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;numIslands&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; grid&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
        Determines the number of islands in a matrix, before destroying them
        &quot;&quot;&quot;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# World is empty, no land or water&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;not&lt;/span&gt; grid &lt;span class=&quot;token operator&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;not&lt;/span&gt; grid&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;

        islands_found &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; row_index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; row &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;grid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; col_index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; _col &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;row&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;token comment&quot;&gt;# if the current position is an island&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; grid&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;row_index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;col_index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;

                    &lt;span class=&quot;token comment&quot;&gt;# Mark island as found&lt;/span&gt;
                    islands_found &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;

                    &lt;span class=&quot;token comment&quot;&gt;# Destory entire island&lt;/span&gt;
                    self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_destroy_island&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;grid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; row_index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; col_index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; islands_found


    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_destroy_island&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; grid&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; row_index&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; col_index&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot; Destroys the entire island &quot;&quot;&quot;&lt;/span&gt;

        out_of_bounds_longitude &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; col_index &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;or&lt;/span&gt; col_index &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;grid&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        out_of_bounds_latitude &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; row_index &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;or&lt;/span&gt; row_index &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;grid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; out_of_bounds_longitude &lt;span class=&quot;token operator&quot;&gt;or&lt;/span&gt; out_of_bounds_latitude&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;

        current_position &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; grid&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;row_index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;col_index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; current_position &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# Destroy island underneath the current position&lt;/span&gt;
        grid&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;row_index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;col_index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# Destroy contigious island landmass to the north, south, east and west&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_destroy_island&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;grid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; row_index&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; col_index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_destroy_island&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;grid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; row_index&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; col_index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_destroy_island&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;grid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; row_index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; col_index&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_destroy_island&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;grid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; row_index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; col_index&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Debugging and run code&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot; The entry point of the python script &quot;&quot;&quot;&lt;/span&gt;

    world_1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

    sln &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Solution&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    number_of_islands_world_1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sln&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;numIslands&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;world_1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;Number of islands destroyed in world_1: {number_of_islands_world_1}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; __name__ &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__main__&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    main&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;</content:encoded></item><item><title><![CDATA[Find the median in a data stream]]></title><description><![CDATA[Knowing the median allows you to split data in half equally. It can be very useful when processing data. This  algorithm from LeetCode  is…]]></description><link>https://www.paulness.com/median-data-stream/</link><guid isPermaLink="false">https://www.paulness.com/median-data-stream/</guid><content:encoded>&lt;p&gt;Knowing the median allows you to split data in half equally. It can be very useful when processing data.&lt;/p&gt;
&lt;p&gt;This &lt;a href=&quot;https://leetcode.com/problems/find-median-from-data-stream/&quot;&gt;algorithm from LeetCode&lt;/a&gt; is about saving new incoming data in such a way where the median is easily known. There are only two public operations which you must provide.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ability to add new numbers&lt;/li&gt;
&lt;li&gt;Ability to find the median&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Assume that both operations will be frequent and develop your solution accordingly.&lt;/p&gt;
&lt;h2&gt;Solution using one max heap and one min heap&lt;/h2&gt;
&lt;p&gt;Since you need to know the median at any given moment, in this exercise we will use two data structures. One will hold all the values lower than the median and one will store all the values higher than the median. Both data structures must have an equal number of elements or at most 1 element more to handle an odd length array.&lt;/p&gt;
&lt;p&gt;For the left side of the median, the value we are most interested in is the highest/largest value. This value we need to access frequently. We will use a max heap for this as the largest element is always at the top of the heap.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  8
 / \
4   5&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;For the right side of the median, the value we are most interested in is the lowest/smallest value. This value we need to access frequently as well. We will use a min-heap for this as the smallest element is always at the top of the heap.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  9
 / \
15  11&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;When we add a number we either will add to the left heap or the right heap. If the value is higher than the top value of the left heap we will add it to the right heap.&lt;/p&gt;
&lt;p&gt;If we add a number to either heap we must check if we need to rebalance the heap. The heap must be balanced otherwise there is no way to determine the median. To rebalance the heap we do the following&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If either heap becomes has more than 1 element more than the other, pluck/pop off the top element and move it to the other heap.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;An example of the rebalancing&lt;/h3&gt;
&lt;p&gt;The left tree has become too large&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;    8       9
   / \     / \
  5   3   15  15
 / \
4   4&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;After rebalancing the &lt;code class=&quot;language-text&quot;&gt;8&lt;/code&gt; has been moved to become part of the right tree&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;    5         8
   / \       / \
  4   3     9  15
 /         /
4         15&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Since either side has 4 elements the number that divides all the numbers into equal portions is a number between 5 and 8. We can work this easily &lt;code class=&quot;language-text&quot;&gt;(5 + 8) / 2 = 6.5&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;Python code&lt;/h2&gt;
&lt;p&gt;This code &lt;a href=&quot;https://leetcode.com/submissions/detail/312809894/&quot;&gt;passes all tests in Leetcode&lt;/a&gt;. It does not go into detail about how max and min heaps work, instead using an inbuilt library &lt;code class=&quot;language-text&quot;&gt;heapq&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
https://leetcode.com/problems/find-median-from-data-stream/
&quot;&quot;&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; heapq

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MedianFinder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot; Wrapper for LeetCode solution &quot;&quot;&quot;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
        Data structure initialization
        &quot;&quot;&quot;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# Stores values that are less than the median&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left_heap &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; MaxHeap&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# Stores values that are greater than the median&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;right_heap &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; MinHeap&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;addNum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; num&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
        Adds the incoming number to the correct underlying data structure
        &quot;&quot;&quot;&lt;/span&gt;

        largest_element_on_left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left_heap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;peek&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; largest_element_on_left &lt;span class=&quot;token operator&quot;&gt;and&lt;/span&gt; num &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; largest_element_on_left&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left_heap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;push&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;num&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;right_heap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;push&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;num&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_rebalance_heap&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_rebalance_heap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
        Neither heap should have more than one element more than the other
        This is essential so that the median can be determined
        &quot;&quot;&quot;&lt;/span&gt;

        heap_size_left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left_heap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        heap_size_right &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;right_heap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; heap_size_left &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; heap_size_right &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            largest_element_on_left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left_heap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pop&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;right_heap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;push&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;largest_element_on_left&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;elif&lt;/span&gt; heap_size_right &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; heap_size_left &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            smallest_element_on_right &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;right_heap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pop&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left_heap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;push&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;smallest_element_on_right&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findMedian&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
        Gets the median by calculating the value based on the top of each heap
        &quot;&quot;&quot;&lt;/span&gt;

        heap_size_left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left_heap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        heap_size_right &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;right_heap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        is_even &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;heap_size_left &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; heap_size_right&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; is_even&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;# Both sides have equal number of elements&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;# The median is the mean of the largest element on the left and smallest element on the right&lt;/span&gt;
            median &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left_heap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;peek&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;right_heap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;peek&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;# Whichever heap has 1 extra element that element IS the median!!&lt;/span&gt;
            median &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left_heap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;peek&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; heap_size_left &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; heap_size_right &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;right_heap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;peek&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; median

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MaxHeapObj&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; val&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;val &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; val
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__lt__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; other&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;val &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; other&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;val
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__eq__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; other&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;val &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; other&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;val
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__str__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;val&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MinHeap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;h &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; heapq&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;heappush&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;h&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; heapq&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;heappop&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;h&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;peek&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;h&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;h &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__getitem__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;h&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;h&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MaxHeap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;MinHeap&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; heapq&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;heappush&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;h&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; MaxHeapObj&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; heapq&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;heappop&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;h&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;val
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;peek&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;h&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;val &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;h &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__getitem__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;h&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;val
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Code used for debugging and running locally&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot; The entry point of the python script &quot;&quot;&quot;&lt;/span&gt;
    obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; MedianFinder&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;addNum&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;addNum&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;addNum&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;addNum&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    median &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;findMedian&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;median&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; __name__ &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__main__&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    main&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Useful learning material&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://kanaka.github.io/rbt_cfs/trees.html&quot;&gt;https://kanaka.github.io/rbt_cfs/trees.html&lt;/a&gt;
&lt;a href=&quot;https://www.cs.usfca.edu/~galles/visualization/Heap.html&quot;&gt;https://www.cs.usfca.edu/~galles/visualization/Heap.html&lt;/a&gt;
&lt;a href=&quot;https://www.youtube.com/watch?v=1CxyVdA_654&quot;&gt;https://www.youtube.com/watch?v=1CxyVdA_654&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[First missing positive]]></title><description><![CDATA[Given an array full of integers, find the first missing positive integer in the list. This tutorial goes over how you can do this in O(n…]]></description><link>https://www.paulness.com/first-positive/</link><guid isPermaLink="false">https://www.paulness.com/first-positive/</guid><content:encoded>&lt;p&gt;Given an array full of integers, find the first missing positive integer in the list. This tutorial goes over how you can do this in O(n) without using any additional space for hashtables or anything. This is avaliable for practice on &lt;a href=&quot;https://leetcode.com/problems/first-missing-positive/&quot;&gt;LeetCode&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Example lists&lt;/h2&gt;
&lt;p&gt;Example of missing 5&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1,2,3,4,6&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Example of missing 1&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;-1,4,8,6,2&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Algorithm&lt;/h2&gt;
&lt;p&gt;If the array has 4 elements and we are looking for the first missing positive. We can look at it this way, we expect &lt;code class=&quot;language-text&quot;&gt;1,2,3,4&lt;/code&gt; to be there.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;index&lt;/th&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;expected values&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;actual values&lt;/td&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;values after algorithm&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;You’ll have to scan the entire list once to find out that &lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt; is not missing of course and that &lt;code class=&quot;language-text&quot;&gt;2&lt;/code&gt; is the first missing positive.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Iterate the array once - O(n)&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Get the value of the slot and &lt;code class=&quot;language-text&quot;&gt;-1&lt;/code&gt; from this value, so that it is in the same zero-index range as the slots&lt;/li&gt;
&lt;li&gt;Throw away any value you encounter outside of the range of the indexes of the array &lt;code class=&quot;language-text&quot;&gt;0 between len(array)-1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;If the value you find is the same as the expected value for the slot overwrite the slot value with &lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt; to denote the value exists&lt;/li&gt;
&lt;li&gt;If you find a value that is less than the index, set the index of that slot to &lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt; and the current slot value to &lt;code class=&quot;language-text&quot;&gt;0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;If you find a value that is greater than the current index, then swap the value in the current slot with the value in the expected future slot as it will be evaluated later anyway. Repeat this iteration once without progressing to the next slot so that you can evaluate the new value in this slot.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In the end, you’ll have an array of zeros and ones. Where &lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt; denotes the existence of the value and &lt;code class=&quot;language-text&quot;&gt;0&lt;/code&gt; means the value does not exist. The first occurrence of zero is your first positive missing value.&lt;/p&gt;
&lt;h3&gt;Python Code&lt;/h3&gt;
&lt;p&gt;This Python code &lt;a href=&quot;https://leetcode.com/submissions/detail/312533966/&quot;&gt;passes all tests in Leetcode&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
https://leetcode.com/problems/first-missing-positive/
&quot;&quot;&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Solution&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot; Wrapper for LeetCode solution &quot;&quot;&quot;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;firstMissingPositive&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nums&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
        Finds the first MISSING positive value in an array
        &quot;&quot;&quot;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# Simplify the problem so that the array is just full of 0 or 1&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# Where 1 indicates the presence of the value&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_update_arr_to_just_flags&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nums&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;nums&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# The first occurrence of 0 is the first missing value&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            first_missing_positive_integer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; nums&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt; ValueError&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            first_missing_positive_integer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nums&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nums&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;first_missing_positive_integer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; first_missing_positive_integer


    @&lt;span class=&quot;token builtin&quot;&gt;classmethod&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_update_arr_to_just_flags&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cls&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nums&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
        Updates an entire array so that instead of storing values it stores either 0 or 1

        1 indicates the presence of a value, the index indicates the value
        &quot;&quot;&quot;&lt;/span&gt;

        last_index &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nums&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
        i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; last_index&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;\nRunning iteration index {i}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;Current state of array {nums}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            current_value_target_index &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
            target_index_out_of_bounds &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current_value_target_index &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;or&lt;/span&gt;
                                          current_value_target_index &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; last_index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; target_index_out_of_bounds&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;threw away value at {i} aka {nums[i]} as it was outside the range&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;elif&lt;/span&gt; current_value_target_index &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;already visited value {current_value_target_index}&quot;&lt;/span&gt;
                       &lt;span class=&quot;token string&quot;&gt;&quot;aka {nums[current_value_target_index]}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;current_value_target_index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
                nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;elif&lt;/span&gt; current_value_target_index &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;current_value_target_index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;elif&lt;/span&gt; current_value_target_index &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;token comment&quot;&gt;# the value is ahead and has not been considered yet&lt;/span&gt;
                &lt;span class=&quot;token comment&quot;&gt;# swap it with current and re-evaluate current&lt;/span&gt;
                are_same &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;current_value_target_index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;not&lt;/span&gt; are_same&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                    cls&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_arr_swap&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nums&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; current_value_target_index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;continue&lt;/span&gt;

                &lt;span class=&quot;token comment&quot;&gt;# The current value will be evaluated later&lt;/span&gt;
                nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;

            i &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;

    @&lt;span class=&quot;token builtin&quot;&gt;classmethod&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_arr_swap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cls&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nums&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; j&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        temp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;j&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;j&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; temp
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;swapped slots {i} with {j} aka {nums[i]} with {nums[j]}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Sample run code for experimentation and debugging&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot; The entry point of the Python script &quot;&quot;&quot;&lt;/span&gt;

    sln &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Solution&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    sln&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;firstMissingPositive&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; __name__ &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__main__&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    main&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Useful learning materials&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=Q-o4mtw1zJM&quot;&gt;https://www.youtube.com/watch?v=Q-o4mtw1zJM&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Median of two arrays]]></title><description><![CDATA[Did you know that it’s possible to get the median of two separate arrays of different lengths, even or odd, without ever merging them or…]]></description><link>https://www.paulness.com/median-of-two-arrays/</link><guid isPermaLink="false">https://www.paulness.com/median-of-two-arrays/</guid><content:encoded>&lt;p&gt;Did you know that it’s possible to get the median of two separate arrays of different lengths, even or odd, without ever merging them or sorting them? It’s something that is often asked in interviews and is also &lt;a href=&quot;https://leetcode.com/problems/median-of-two-sorted-arrays/&quot;&gt;listed on Leetcode.com&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Median = the value that splits the array into two equal length partitions&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;The premise&lt;/h2&gt;
&lt;p&gt;Given two separate arrays that can have different lengths, overlapping values. There exists a solution to find the median across both arrays without sorting or merging the arrays.&lt;/p&gt;
&lt;h3&gt;Example 1 - an array that when combined has an odd length of 11&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;small_array &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
large_array &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The solution should find the same median &lt;code class=&quot;language-text&quot;&gt;11&lt;/code&gt; as if this array was merged and sorted&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;merged_sorted_array &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Search for the first two partition points which satisfy the following conditions&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;All elements to the left of the partition on &lt;code class=&quot;language-text&quot;&gt;small_array&lt;/code&gt; are smaller or equal to all elements on the right of the partition of &lt;code class=&quot;language-text&quot;&gt;large_array&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;All elements to the left of the partition on &lt;code class=&quot;language-text&quot;&gt;large_array&lt;/code&gt; are smaller or equal to all elements on the right of the partition of &lt;code class=&quot;language-text&quot;&gt;small_array&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Since both arrays are ordered in ascending order, checking all elements is unnecessary. The partition that satisfies the above on &lt;code class=&quot;language-text&quot;&gt;small_array&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;large_array&lt;/code&gt; is as follows.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1 3 8 9 | 15
7 11 | 18 19 21 25&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;9&lt;/code&gt; is less than &lt;code class=&quot;language-text&quot;&gt;18&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;11&lt;/code&gt; is less than &lt;code class=&quot;language-text&quot;&gt;15&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Since the total number of elements in the combined array is odd we simply use the larger of the two numbers to the left of either partition as the median. This is &lt;code class=&quot;language-text&quot;&gt;11&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;But how you do you find the partition that satisfies the above?&lt;/h4&gt;
&lt;p&gt;Since the goal of the median is to have an equal number of elements of both arrays on the left as on the right and have the median as the splitting value that divides the array equally.&lt;/p&gt;
&lt;p&gt;This array is odd, there 6 elements on the left, 5 elements on the right therefore the median has to be one of the numbers on the left. If this number is plucked as the median there will be 5 elements on either side.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1 3 8 9 | 15
7 11 | 18 19 21 25&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;It’s impossible to have partitions of both arrays over to the right and find the median. Therefore it makes no sense to look in for a partition in this search space.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1 3 8 9 | 15
7 11 18 19 21 | 25&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;With this knowledge, it’s possible to ascertain that if you desire to move the &lt;code class=&quot;language-text&quot;&gt;small_array&lt;/code&gt; partition over to the right. You must move the &lt;code class=&quot;language-text&quot;&gt;large_array&lt;/code&gt; partition in the opposite direction to the same degree.&lt;/p&gt;
&lt;h4&gt;Example iterations&lt;/h4&gt;
&lt;h5&gt;Iteration 1 - incorrect partitions&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;small_array&lt;/code&gt; is partitioned at index &lt;code class=&quot;language-text&quot;&gt;2&lt;/code&gt; which is decided by the number of elements in the search divided by 2 as a whole number e.g. &lt;code class=&quot;language-text&quot;&gt;5 / 2 = 2.5&lt;/code&gt; which is just &lt;code class=&quot;language-text&quot;&gt;2&lt;/code&gt; when the decimal is truncated&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;large_array&lt;/code&gt; is partitioned at index &lt;code class=&quot;language-text&quot;&gt;4&lt;/code&gt; which is decided by the total number of elements in both arrays + 1 divided by 2 minus the partition index of the &lt;code class=&quot;language-text&quot;&gt;small_array&lt;/code&gt; e.g. &lt;code class=&quot;language-text&quot;&gt;(11 + 1) / 2 - 2 = 4&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We compare the numbers around the current partition points to decide whether to change these partition points&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1 3 | 8 9 15
7 11 18 19 | 21 25&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;3&lt;/code&gt; is not less than &lt;code class=&quot;language-text&quot;&gt;21&lt;/code&gt;, this correct partition must be in between the higher numbers&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;19&lt;/code&gt; is not less than &lt;code class=&quot;language-text&quot;&gt;8&lt;/code&gt;, this correct partition is in the earlier numbers&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;Iteration 2 - correct partitions&lt;/h5&gt;
&lt;p&gt;There were 3 ways of partitioning the &lt;code class=&quot;language-text&quot;&gt;small_array&lt;/code&gt; in this iteration&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;8 | 9&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;9 | 15&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;15 | +∞&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;9 | 15&lt;/code&gt; was chosen as it’s in the middle. The partition index here is &lt;code class=&quot;language-text&quot;&gt;4&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;However, since we moved the partition on the &lt;code class=&quot;language-text&quot;&gt;small_array&lt;/code&gt; forward &lt;code class=&quot;language-text&quot;&gt;2&lt;/code&gt; places from index &lt;code class=&quot;language-text&quot;&gt;2&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;4&lt;/code&gt; in this iteration. The partition on the &lt;code class=&quot;language-text&quot;&gt;large_array&lt;/code&gt; moved &lt;code class=&quot;language-text&quot;&gt;2&lt;/code&gt; places to the left, to ensure the balance of elements either side of the median.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1 3 8 9 | 15
7 11 | 18 19 21 25&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Example 2 - an array that when combined has an even length of 10&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;In an even array the median is the mean of the two middle numbers&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;small_array &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
large_array &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The solution should find the same median &lt;code class=&quot;language-text&quot;&gt;13.5&lt;/code&gt; derived from &lt;code class=&quot;language-text&quot;&gt;(11 + 16) / 2&lt;/code&gt; as if this array was merged and sorted&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;merged_sorted_array &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The partition points of these arrays are&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;-∞ | 23 26 31 35
3 5 7 9 11 | 16&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Nothing exists on the left of partition in the &lt;code class=&quot;language-text&quot;&gt;small_array&lt;/code&gt;, therefore we have substituted this with negative infinity &lt;code class=&quot;language-text&quot;&gt;-∞&lt;/code&gt;. This effectively means that all values of concern to the median are only in the &lt;code class=&quot;language-text&quot;&gt;large_array&lt;/code&gt; and we need both a left and right value in this array to compare.&lt;/p&gt;
&lt;p&gt;We still satisfy the conditions earlier&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;All elements to the left of the partition on &lt;code class=&quot;language-text&quot;&gt;small_array&lt;/code&gt; are smaller or equal to all elements on the right of the partition of &lt;code class=&quot;language-text&quot;&gt;large_array&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;-∞ is less than all elements&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;All elements to the left of the partition on &lt;code class=&quot;language-text&quot;&gt;large_array&lt;/code&gt; are smaller or equal to all elements on the right of the partition of &lt;code class=&quot;language-text&quot;&gt;small_array&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;11 is less than 23&lt;/li&gt;
&lt;li&gt;16 is also less than 23 but we satisfied both conditions already&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Now the next step is to compare the 4 numbers next to the partition points&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;left&lt;/th&gt;
&lt;th&gt;right&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;small_array&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;-∞&lt;/td&gt;
&lt;td&gt;23&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;large_array&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;We will use the following formula &lt;code class=&quot;language-text&quot;&gt;(max(small_array_left_val, large_array_right_val) + min(small_array_right_val, large_array_right_val)) / 2&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;(11 + 16) / 2 = 13.15&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Example 3 - an array that when combined has an odd length of 3&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;small_array &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
large_array &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;There are only a few ways that tiny arrays can be partitioned and the first way gets the correct result&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;left&lt;/th&gt;
&lt;th&gt;right&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;small_array&lt;/td&gt;
&lt;td&gt;-∞&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;large_array&lt;/td&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;+∞&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Since the combined array is of an odd length we just use the larger of the two numbers to the left of either partition as the median this is &lt;code class=&quot;language-text&quot;&gt;-1&lt;/code&gt; as &lt;code class=&quot;language-text&quot;&gt;-1 &amp;gt; -∞&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Example 4 - an array that when combined is all the same value&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;small_array&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
large_array&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The median we know here is &lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt; just by looking at it. Since LeetCode asked for only the value and not the index this algorithm takes a few shortcuts and therefore partitions incorrectly and still produces the correct result.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;The top left number is less than or equal to the bottom right number&lt;/li&gt;
&lt;li&gt;The bottom left number is less than or equal to the top right number&lt;/li&gt;
&lt;li&gt;The median is one of these four numbers&lt;/li&gt;
&lt;li&gt;The median is one of the two left numbers as the array is odd and there are more elements on the left&lt;/li&gt;
&lt;li&gt;The median is the greater of the two left numbers&lt;/li&gt;
&lt;li&gt;The median is 1&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If the LeetCode exercise asked for both the value and the index e.g. &lt;code class=&quot;language-text&quot;&gt;(value, index)&lt;/code&gt; then this algorithm that we have would fail to deliver the results without adjustments.&lt;/p&gt;
&lt;h3&gt;Time complexity&lt;/h3&gt;
&lt;p&gt;Why is this solution of time complexity of &lt;code class=&quot;language-text&quot;&gt;O(log(small_array_length))&lt;/code&gt;? This is because the smaller array is the only array that we are doing a binary search on and for each search on this array we are halving the search space e.g. &lt;code class=&quot;language-text&quot;&gt;8 -&amp;gt; 4 -&amp;gt; 2&lt;/code&gt;. You can watch a &lt;a href=&quot;https://www.youtube.com/watch?v=Hatl0qrT0bI&quot;&gt;video on logarithmic complexity here&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Python Code&lt;/h2&gt;
&lt;p&gt;This code passes &lt;a href=&quot;https://leetcode.com/submissions/detail/312498996/&quot;&gt;all tests in LeetCode&lt;/a&gt;. Print statements are added for tutorial purposes&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
https://leetcode.com/problems/median-of-two-sorted-arrays/
&quot;&quot;&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; sys


&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Solution&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
    Wrapper class for Leetcode solution
    &quot;&quot;&quot;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findMedianSortedArrays&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nums1&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nums2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
        Parameters
        ----------
        nums1: [int]
            A sorted array of numbers
        nums2: [int]
            A sorted array of numbers

        Returns
        -------
        int
            The median number which partitions both arrays if they were already merged and sorted
        &quot;&quot;&quot;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;not&lt;/span&gt; nums1 &lt;span class=&quot;token operator&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;not&lt;/span&gt; nums2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Invalid input&quot;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# Single array (trivial algorithm)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;not&lt;/span&gt; nums1 &lt;span class=&quot;token operator&quot;&gt;and&lt;/span&gt; nums2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_get_median_single_array&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nums2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;not&lt;/span&gt; nums2 &lt;span class=&quot;token operator&quot;&gt;and&lt;/span&gt; nums1&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_get_median_single_array&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nums1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# Get the median for two arrays, smallest array first&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nums1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nums2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_find_median_sorted_arrays&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;small_array&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;nums1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; large_array&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;nums2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_find_median_sorted_arrays&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;small_array&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;nums2&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; large_array&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;nums1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    @&lt;span class=&quot;token builtin&quot;&gt;classmethod&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_find_median_sorted_arrays&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cls&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; small_array&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; large_array&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
        Time complexity O(log(len(small_array)))

        Parameters
        ----------
        small_array: [int]
            A sorted list of integers
        large_array: [int]
            A sorted list of integers that must be larger or the same length as small_array

        Returns
        -------
        float
            The median that splits the two arrays equally as if they were sorted and merged
        &quot;&quot;&quot;&lt;/span&gt;


        total_elements &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;small_array&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;large_array&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# Begin the search within the entire range of the smaller array&lt;/span&gt;
        start_x&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
        end_x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;small_array&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;start_x &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; end_x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;

            &lt;span class=&quot;token comment&quot;&gt;# Try and find the partition points for the x and y array such that an equal number of elements appear on both sides&lt;/span&gt;
            partition_x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; cls&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_get_partition_x&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;start_x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; end_x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            partition_y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; cls&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_get_partition_y&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;total_elements&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; partition_x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;token comment&quot;&gt;# Find immediate element to the left and to the right of partition_x in the x array&lt;/span&gt;
            left_val_x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; small_array&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;partition_x&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; partition_x &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;sys&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;maxsize
            right_val_x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; small_array&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;partition_x&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; partition_x &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;small_array&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; sys&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;maxsize

            &lt;span class=&quot;token comment&quot;&gt;# Find immediate element to the left and to the right of partitionY in the y array&lt;/span&gt;
            left_val_y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; large_array&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;partition_y&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; partition_y &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;sys&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;maxsize
            right_val_y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; large_array&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;partition_y&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; partition_y &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;large_array&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; sys&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;maxsize

            &lt;span class=&quot;token comment&quot;&gt;# All values to the left on the x partition are less or equal to all the values on the right of the y partition&lt;/span&gt;
            left_x_less_eq_to_right_y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; left_val_x &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; right_val_y

            &lt;span class=&quot;token comment&quot;&gt;# All values to the left of the y partition are less or equal to all the values to the right of the x partition&lt;/span&gt;
            left_y_less_eq_to_right_x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; left_val_y &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; right_val_x

            &lt;span class=&quot;token comment&quot;&gt;# Print information about the current state&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;-- INFORMATION---&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;start_x={start_x} end_x={end_x}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;partition_x={partition_x} partitionY={partition_y}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;-----------------&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;The 4 values hugging the 2 partition points&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;maxLeftX={left_val_x}   minRightX={right_val_x}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;maxLeftY={left_val_y}   minRightY={right_val_y}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;left_x_less_eq_to_right_y={left_x_less_eq_to_right_y}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;left_y_less_eq_to_right_x={left_y_less_eq_to_right_x}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;token comment&quot;&gt;# Partition found where median can be calculated&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; left_x_less_eq_to_right_y &lt;span class=&quot;token operator&quot;&gt;and&lt;/span&gt; left_y_less_eq_to_right_x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;Found the perfect partition indexes. partition_x={partition_x} partitionY={partition_y}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;small_array_left={small_array[0:max(0, partition_x)]} small_array_right={small_array[partition_x::]}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;large_array_left={large_array[0:max(0, partition_y)]} large_array_right={large_array[partition_y::]}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                is_even &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; total_elements &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; is_even&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                    median &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;left_val_x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; left_val_y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;right_val_x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; right_val_y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                    median &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;left_val_x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; left_val_y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

                &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;Found the perfect median {median}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; median

            &lt;span class=&quot;token comment&quot;&gt;# Move search space backward or forward&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; left_val_x &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; right_val_y&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                end_x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; partition_x &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                start_x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; partition_x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;

    @&lt;span class=&quot;token builtin&quot;&gt;classmethod&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_get_partition_x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cls&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; start_x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; end_x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
        Parameters
        ----------
        start_x: int
            The current start_x
        end_x: int
            The current end_x

        Returns
        -------
        int
            The partition index for the x array, if &gt; len(x) then the median of both arrays is in y
        &quot;&quot;&quot;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;start_x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; end_x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    @&lt;span class=&quot;token builtin&quot;&gt;classmethod&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_get_partition_y&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cls&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; total_elements&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; partition_x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
        Parameters
        ----------
        total_elements: int
            The total number of elements in both arrays
        partition_x: int
            The current partition_x

        Returns
        -------
        int
            The partition point of y
        &quot;&quot;&quot;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;total_elements &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; partition_x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    @&lt;span class=&quot;token builtin&quot;&gt;classmethod&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_get_median_single_array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cls&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nums&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
        Gets the median of the sorted array

        Returns
        -------
        float
            The median number which partitions the array such that both sides have an equal number of elements.
        &quot;&quot;&quot;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nums&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

        median &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nums&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;not&lt;/span&gt; median&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;is_integer&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;# Odd number then return the middle&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;median&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# Even so must split&lt;/span&gt;
        median &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;median&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;median&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;median&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Sample run code for experimentation and debugging&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot; The entry point of the Python script &quot;&quot;&quot;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# Trying to find the median of the combined arrays&lt;/span&gt;
    sln &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Solution&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# We know the median to this is 11&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# print(sln.findMedianSortedArrays(nums1=[1,3,8,9,15], nums2=[7,11,18,19,21,25]))&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# We know the median to this is between 11 and 16 so 13.5&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sln&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;findMedianSortedArrays&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nums1&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nums2&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# The median here is -1&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;#print(sln.findMedianSortedArrays([3], [-2,-1]))&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# The median here is 3&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;#print(sln.findMedianSortedArrays([1,2,5],[1,3,5,6]))&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; __name__ &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__main__&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    main&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Useful links&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=LPFhl65R7ww&quot;&gt;https://www.youtube.com/watch?v=LPFhl65R7ww&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Merge k sorted linked lists]]></title><description><![CDATA[A common question interview candidates are asked is to merge k sorted linked lists. This is available for practice on  Leetcode .  = just…]]></description><link>https://www.paulness.com/merge-k-sorted-linked-lists/</link><guid isPermaLink="false">https://www.paulness.com/merge-k-sorted-linked-lists/</guid><content:encoded>&lt;p&gt;A common question interview candidates are asked is to merge k sorted linked lists. This is available for practice on &lt;a href=&quot;https://leetcode.com/problems/merge-k-sorted-lists/&quot;&gt;Leetcode&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;k sorted linked lists&lt;/code&gt; = just some number of sorted linked lists&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Problem description&lt;/h2&gt;
&lt;p&gt;Given &lt;code class=&quot;language-text&quot;&gt;k&lt;/code&gt; number of linked lists, create a new single linked list that is ordered. Analyze the time and space complexity.&lt;/p&gt;
&lt;p&gt;A good solution for time complexity is &lt;code class=&quot;language-text&quot;&gt;O(N log k)&lt;/code&gt; where &lt;code class=&quot;language-text&quot;&gt;O&lt;/code&gt; is the number of operations &lt;code class=&quot;language-text&quot;&gt;N&lt;/code&gt; is the total number of items in the list and &lt;code class=&quot;language-text&quot;&gt;k&lt;/code&gt; is the number of linked lists. A good solution should also require no additional space/memory other than the memory already used e.g. constant &lt;code class=&quot;language-text&quot;&gt;O(1)&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;The algorithm&lt;/h2&gt;
&lt;p&gt;You want to merge the following 3 linked lists, &lt;code class=&quot;language-text&quot;&gt;list1&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;list2&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;list3&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;2 -&amp;gt; 3 -&amp;gt; 4 -&amp;gt; 5
4 -&amp;gt; 5 -&amp;gt; 6 -&amp;gt; 7 -&amp;gt; 8
20&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;So that you have the following flattened final linked list&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;2 -&amp;gt; 3 -&amp;gt; 4 -&amp;gt; 4 -&amp;gt; 5 -&amp;gt; 5 -&amp;gt; 6 -&amp;gt; 7 -&amp;gt; 8 -&amp;gt; 20&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;As you construct the newly merged linked list you’ll be moving through the existing linked lists. Once an item has been added to the merged list there is no reason to return to this item. Therefore updating the head of the list as we construct a new merged list is an acceptable approach.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;With each iteration, 1 item from the front of &lt;code class=&quot;language-text&quot;&gt;list1&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;list2&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;list3&lt;/code&gt; will be plucked&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;code class=&quot;language-text&quot;&gt;list1&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;&lt;code class=&quot;language-text&quot;&gt;list2&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;&lt;code class=&quot;language-text&quot;&gt;list3&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;&lt;code class=&quot;language-text&quot;&gt;lowest_value&lt;/code&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;4 (from 
&lt;code class=&quot;language-text&quot;&gt;list1&lt;/code&gt;
)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;5 (from 
&lt;code class=&quot;language-text&quot;&gt;list1&lt;/code&gt;
)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;Steps&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Evaluate each head node of each input list to find the head with the lowest value&lt;/li&gt;
&lt;li&gt;Attach this head node to the tail of your flattened output list&lt;/li&gt;
&lt;li&gt;Make the head of the input list point the next node if one exists otherwise you’ve exhuasted this list. You just remove the node, so that you won’t see it again in the next iteration&lt;/li&gt;
&lt;li&gt;Repeat until there are no lists with nodes left&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Python Code&lt;/h2&gt;
&lt;p&gt;This code &lt;a href=&quot;https://leetcode.com/submissions/detail/312326148/&quot;&gt;passes all tests in LeetCode&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
https://leetcode.com/problems/merge-k-sorted-lists/
&quot;&quot;&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ListNode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
    Basic data structure for a singly-linked list.
    &quot;&quot;&quot;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;val &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; x
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;next&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Solution&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
    Wrapper class for LeetCode solution
    &quot;&quot;&quot;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mergeKLists&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; lists&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;ListNode&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; ListNode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
        Parameters
        ----------
        lists: list of ListNode
            Multiple linked lists, each can be traversed using the next property

        Returns
        -------
        ListNode
            The head of a newly constructed ordered and flattened linked list
        &quot;&quot;&quot;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; lists&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            lists &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;l &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; l &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; lists &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; l&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;not&lt;/span&gt; lists&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# Setup the head of the new ordered merged linked list&lt;/span&gt;
        list_with_lowest_value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lists&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;lambda&lt;/span&gt; l&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; l&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;val&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_update_list_head&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lists&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;lists&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; head_to_update&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;list_with_lowest_value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        merged_list_head &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; list_with_lowest_value
        merged_list_cur &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; merged_list_head

        &lt;span class=&quot;token comment&quot;&gt;# Build new ordered merged linked list&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; lists&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            list_with_lowest_value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lists&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;lambda&lt;/span&gt; l&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; l&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;val&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            merged_list_cur&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;next&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; list_with_lowest_value
            merged_list_cur &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; merged_list_cur&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;next&lt;/span&gt;
            self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_update_list_head&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lists&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;lists&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; head_to_update&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;list_with_lowest_value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; merged_list_head

    @&lt;span class=&quot;token builtin&quot;&gt;classmethod&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_update_list_head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cls&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; lists&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;ListNode&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; head_to_update&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ListNode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
        Updates the head reference of one list to the next item in that list
        &quot;&quot;&quot;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; head_to_update&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            index &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; lists&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;head_to_update&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            lists&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; head_to_update&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;next&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            lists&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;remove&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;head_to_update&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Sample run code for experimentation and debugging&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot; The entry point of the python script &quot;&quot;&quot;&lt;/span&gt;

    sln &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Solution&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# Test data 2 linked lists&lt;/span&gt;
    list1_item1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ListNode&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    list1_item2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ListNode&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    list1_item3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ListNode&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    list1_item1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;next&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; list1_item2
    list1_item2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;next&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; list1_item3

    list2_item1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ListNode&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# Print out the flattened linked list&lt;/span&gt;
    merged_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sln&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mergeKLists&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;list1_item1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; list2_item1&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;merged_list &lt;span class=&quot;token operator&quot;&gt;and&lt;/span&gt; merged_list&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;val&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;merged_list&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;val&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        merged_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; merged_list&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;next&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; __name__ &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__main__&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    main&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Useful links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=ptYUCjfNhJY&quot;&gt;https://www.youtube.com/watch?v=ptYUCjfNhJY&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/better-programming/a-gentle-explanation-of-logarithmic-time-complexity-79842728a702&quot;&gt;https://medium.com/better-programming/a-gentle-explanation-of-logarithmic-time-complexity-79842728a702&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Setup Isso comments on your website today]]></title><description><![CDATA[Isso commenting  is an open source application that is a superior “in-place replacement” for Disqus and Facebook comments. Internally it is…]]></description><link>https://www.paulness.com/setup-isso-commenting-on-google-compute-engine-vm-cloud/</link><guid isPermaLink="false">https://www.paulness.com/setup-isso-commenting-on-google-compute-engine-vm-cloud/</guid><content:encoded>&lt;p&gt;&lt;a href=&quot;https://posativ.org/isso/&quot;&gt;Isso commenting&lt;/a&gt; is an open source application that is a superior “in-place replacement” for Disqus and Facebook comments. Internally it is built with Python and SQLite. We will be running it inside a Docker container on the Google Compute Container Optimized OS. After completing the instructions in this guide, you’ll just include a snippet on your site to get Isso comments working on your site.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Let crack on to get tracking-free / ad-free commenting functionality on your site!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Set up the VM instance&lt;/h2&gt;
&lt;p&gt;Go to the &lt;a href=&quot;https://console.cloud.google.com/compute/instances&quot;&gt;Google Console for Instances&lt;/a&gt; and click create instance. The configuration should match the following screenshot, and the price should be free!&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/setup-cloud-vm-f1-micro-free-448ac9f13f70d887c21dfbdb8ed4c03b-4d083.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 483px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 204.55486542443063%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAApABQDASIAAhEBAxEB/8QAGQAAAwEBAQAAAAAAAAAAAAAAAAECAwQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAH1XtWpyHQQ2qlgAp40MyD/xAAbEAACAgMBAAAAAAAAAAAAAAAAAgMQARMxQf/aAAgBAQABBQLShojMwx21t3NNbHox/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIP/aAAgBAwEBPwGIiz//xAAXEQADAQAAAAAAAAAAAAAAAAAAARIg/9oACAECAQE/AaZTz//EABcQAAMBAAAAAAAAAAAAAAAAAAAxMkD/2gAIAQEABj8CQicH/8QAHxAAAQMEAwEAAAAAAAAAAAAAAAERMRAhQVFxodHw/9oACAEBAAE/IUjOzuPvRockLbYnNDCziEh/mpIwpI//2gAMAwEAAgADAAAAEOAvAMAP/8QAFhEBAQEAAAAAAAAAAAAAAAAAYQAg/9oACAEDAQE/EAgz/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAFhIP/aAAgBAgEBPxCrKvP/xAAiEAEAAgIBAwUBAAAAAAAAAAABABEhMXFBUdEQgZGhscH/2gAIAQEAAT8Qom3LdvmFW33H9hzXR3eY1aunO4ZbGaeIqGi3klr3eRlqcQih726Zhgr5mniIEX9Qb6lTTxD6H008T//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;Configuration of VM&quot;
        title=&quot;&quot;
        src=&quot;/static/setup-cloud-vm-f1-micro-free-448ac9f13f70d887c21dfbdb8ed4c03b-4d083.jpg&quot;
        srcset=&quot;/static/setup-cloud-vm-f1-micro-free-448ac9f13f70d887c21dfbdb8ed4c03b-06ee9.jpg 200w,
/static/setup-cloud-vm-f1-micro-free-448ac9f13f70d887c21dfbdb8ed4c03b-4998d.jpg 400w,
/static/setup-cloud-vm-f1-micro-free-448ac9f13f70d887c21dfbdb8ed4c03b-4d083.jpg 483w&quot;
        sizes=&quot;(max-width: 483px) 100vw, 483px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;You should now have a free tier VM set up in the Google Cloud console. See the screenshot below, where you see instance-1 is fully set up and running.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/instance-vm-c8110efbcd62d369e22acb03a34db08e-4aa88.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 42.4643584521385%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABsCwD/8QAFhAAAwAAAAAAAAAAAAAAAAAAAAMS/9oACAEBAAEFAoWQshZ//8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAEDAQE/AZiP/8QAFhEAAwAAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/Aays/8QAFxAAAwEAAAAAAAAAAAAAAAAAAAExMv/aAAgBAQAGPwKIyiI//8QAFxABAAMAAAAAAAAAAAAAAAAAAQAQEf/aAAgBAQABPyEyrll//9oADAMBAAIAAwAAABBwD//EABcRAQADAAAAAAAAAAAAAAAAAAARUWH/2gAIAQMBAT8QwQp//8QAFREBAQAAAAAAAAAAAAAAAAAAAGH/2gAIAQIBAT8Qss//xAAaEAACAgMAAAAAAAAAAAAAAAABEQAhUYGx/9oACAEBAAE/EEF9YEDWvQjA5if/2Q==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;Google Cloud Instance Shown&quot;
        title=&quot;&quot;
        src=&quot;/static/instance-vm-c8110efbcd62d369e22acb03a34db08e-78f2b.jpg&quot;
        srcset=&quot;/static/instance-vm-c8110efbcd62d369e22acb03a34db08e-dce19.jpg 200w,
/static/instance-vm-c8110efbcd62d369e22acb03a34db08e-c1413.jpg 400w,
/static/instance-vm-c8110efbcd62d369e22acb03a34db08e-78f2b.jpg 800w,
/static/instance-vm-c8110efbcd62d369e22acb03a34db08e-4aa88.jpg 982w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Set up a reserved static IP address&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://console.cloud.google.com/networking/addresses/list&quot;&gt;Click here&lt;/a&gt; to set up a reserved static IP address for the VM instance you created. The IP that I have set up is &lt;strong&gt;35.231.171.45&lt;/strong&gt; as displayed below.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/staticip-0bbfe2a574d5b75f849994f59d896521-8f116.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 770px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 32.72727272727273%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABGUlEQVQoz62Qy07DMBBF/W+FJQJWIMRvtKx4bHj8GlILrYjUplQqJKAUCRrXTvyKk4vtlIgP6EhHc2func2Q45tPnD9kOLnNcHqX4ex+Bb87vEpxdJ3i4DLF3kXS0esn2Pd60OreYEu/9ckk/sJLvMIoSjGMPvA4eUe0+MYyk3iacwxnDONXjmen/TxPS4xijvHC6YRjuqSYvW22UBApGGylUBmJSgsowYHawJe1DWzd4K+aptX/Vn7yTgcRUsMYg82Goaosfta5Yw0pFfI8h1QahTAQZYmicJQClNJwo7UJNz6rXM7PhJcGta3AOQ+hoihQumNrbehCCDDGoZ3nfaVUyDLGQpdSoq7rAKU5iA/ssojWuvvPLvgFYkUG8gO6FdwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;Static IP setup screen&quot;
        title=&quot;&quot;
        src=&quot;/static/staticip-0bbfe2a574d5b75f849994f59d896521-8f116.png&quot;
        srcset=&quot;/static/staticip-0bbfe2a574d5b75f849994f59d896521-31a6c.png 200w,
/static/staticip-0bbfe2a574d5b75f849994f59d896521-11f7f.png 400w,
/static/staticip-0bbfe2a574d5b75f849994f59d896521-8f116.png 770w&quot;
        sizes=&quot;(max-width: 770px) 100vw, 770px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;Setting up firewall settings&lt;/h3&gt;
&lt;p&gt;Open up the &lt;a href=&quot;https://console.cloud.google.com/networking/firewalls/list&quot;&gt;Firewall rules&lt;/a&gt; in the Google Cloud console. You need to open the ingress port tcp:30000 for Isso use. See below for example.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/open-port-for-isso-00b25a680b71070fe182d777ea7a1dfb-4875c.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 43.67816091954023%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABOklEQVQoz41Sy5KEIBDz//9xTnOZhwICgiiY7bSDu1W7h7UqpXan0wk63G43pJTwfr8xTROAAyEdcLHBJz431AbYUBFzw7ZtiuM4/sTgZ4eyrsg5q3AMEcsiiOHEkgQLat102fdwQ2u/MUxWhlKGtU4cjnDOKYz1SHlFWivKVlXkP9fwMglh2TGaqC45t5Uijnq8okQ+s19rvVyukuxExlqaLBaHjLfvO4wxeD6fCDEihHDBGqtCjB2l18+QM+yzxp61M6IczxDCKTiOIx6PB7yQnLO6gNFfsoQ1772+k1skAUXneRZRr4LKE87AJg+TRRKuCJ84dNAFih5FVXBG658e5/l+CRoz4X6/iwuxHsMVh05J5h/AhYxPUIS1Dis83n845LBV4vr5jbpDPTfh7duuH6h/cc52dIdf0bW8G5ZHsNcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;Open port 30000&quot;
        title=&quot;&quot;
        src=&quot;/static/open-port-for-isso-00b25a680b71070fe182d777ea7a1dfb-48538.png&quot;
        srcset=&quot;/static/open-port-for-isso-00b25a680b71070fe182d777ea7a1dfb-bed0f.png 200w,
/static/open-port-for-isso-00b25a680b71070fe182d777ea7a1dfb-5fd34.png 400w,
/static/open-port-for-isso-00b25a680b71070fe182d777ea7a1dfb-48538.png 800w,
/static/open-port-for-isso-00b25a680b71070fe182d777ea7a1dfb-4875c.png 870w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Next, you will need to open up the egress port tcp:2525 for outbound mail notifications. See below for example.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/open-port-for-smtp-842f5eb6cc224f34c0be7b0f29d8a12a-7c7d1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 645px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 33.17829457364341%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABGUlEQVQoz4VR2ZKEMAj0/z/TLcdj1CREYy7TC8w6r0tJpVNC02m6fd/gnEPf9xiGAbuxkKCz4mfJML7ibQt2KvChIuUbiynYqKLeDVcISCmhtaZ9nZCVUnBdF2KMyIwlSuXi1PgEUml6FwL+ENPNWXHft/bW+sGSnZBEJiMieO81ZcghmBycNfrPOgL5E6QCsg59VDFSLKmE0jCOI5Z54pwxTbOer9eE98bkxwHnE+jIqkiUPFwP6XPvjM+sMPATEgz7FGL9Fj7z/4sPaVPW7gyRPSgwxsC4AGMPlJyROUW5PFFt+XuJqA28CLFFRGzbxrUF1vMeWEyXUtQJ67pCsPfsl7XfYsEPiQyVBUidkIuXRF4FDWxPYhG/FAggtEwEKdYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;Open port 2525&quot;
        title=&quot;&quot;
        src=&quot;/static/open-port-for-smtp-842f5eb6cc224f34c0be7b0f29d8a12a-7c7d1.png&quot;
        srcset=&quot;/static/open-port-for-smtp-842f5eb6cc224f34c0be7b0f29d8a12a-6b74a.png 200w,
/static/open-port-for-smtp-842f5eb6cc224f34c0be7b0f29d8a12a-a347d.png 400w,
/static/open-port-for-smtp-842f5eb6cc224f34c0be7b0f29d8a12a-7c7d1.png 645w&quot;
        sizes=&quot;(max-width: 645px) 100vw, 645px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Set up DNS records on your domains&lt;/h2&gt;
&lt;p&gt;Set up a subdomain A record &lt;strong&gt;comments.yourdomain.com&lt;/strong&gt; that points to your new static IP address. Shown below are my settings set up on Google Domains.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/set-up-dns-a-record-04c1417d7bf9a9e08ba06c919bd268ba-28890.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 5.31062124248497%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsSAAALEgHS3X78AAAAO0lEQVQI1x2KgQZAQQgE3///aom4dynVnhrWWOYzM4gIMhPdjYhYz3d3DPfebcZDVW0zIyKoKv5zwMx4YNpN+Uc3g6UAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;Subdomain A record&quot;
        title=&quot;&quot;
        src=&quot;/static/set-up-dns-a-record-04c1417d7bf9a9e08ba06c919bd268ba-48538.png&quot;
        srcset=&quot;/static/set-up-dns-a-record-04c1417d7bf9a9e08ba06c919bd268ba-bed0f.png 200w,
/static/set-up-dns-a-record-04c1417d7bf9a9e08ba06c919bd268ba-5fd34.png 400w,
/static/set-up-dns-a-record-04c1417d7bf9a9e08ba06c919bd268ba-48538.png 800w,
/static/set-up-dns-a-record-04c1417d7bf9a9e08ba06c919bd268ba-28890.png 998w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Setting up email notifications for new comments&lt;/h2&gt;
&lt;p&gt;You will want notification when somebody comments on a post on your website. &lt;a href=&quot;https://cloud.google.com/compute/docs/tutorials/sending-mail/&quot;&gt;Google Cloud prohibits instances sending mail on SMTP ports 25, 587, and 465&lt;/a&gt; making it quite difficult to use most SMTP services. We will, therefore, be using Mailgun on port 2525 instead.&lt;/p&gt;
&lt;p&gt;The steps are as follows:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create a free &lt;a href=&quot;https://www.mailgun.com/google&quot;&gt;Mailgun account&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Add a &lt;a href=&quot;https://app.mailgun.com/app/domains&quot;&gt;domain in Mailgun&lt;/a&gt;. Use the format: email.yourdomain.com&lt;/li&gt;
&lt;li&gt;Complete the Mailgun domain verification process. Add all the DNS A records, TXT records and other records that Mailgun requires. See the Mailgun verification settings&lt;sup&gt;1&lt;/sup&gt; and corrosponding Google Domain setup&lt;sup&gt;2&lt;/sup&gt;.&lt;/li&gt;
&lt;li&gt;Add an &lt;a href=&quot;https://app.mailgun.com/app/account/authorized&quot;&gt;authorized recipient&lt;/a&gt; for which email address you want to be sent comment notifications&lt;/li&gt;
&lt;li&gt;Keep a Mailgun open as you will use the details later on&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;1 - Mailgun verification&lt;/em&gt;

  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/mail-gun-verification-settings-eb03484f15d2c6ae735daeb01a54a01a-d4e04.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 62.44573082489146%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABf0lEQVQoz5VTS04DMQwNB+JISFyDBQu4AuIGLBBbFkhIIBZU7LrlEm2n80kmX5vnNNNGZSqBpSc7v+cXO1ExRB7HcQ+tNQ99T8MwsMAYE8WYOYOIBAkW4D3mvPiCqFo/srGWvXOsjeaQz2ajAvbec6LEfzGlg2MXAicQOZDK4RCCSGBkFMWfGL8BXxC6wJmFtfYb++6x5xpzN9h3C1wBL6rzlm3wmRDXy6QACVkReq5gCM5Usb7vL9WMYc+Fwl0yGRRwPHgSL2pB/or4GfEHIErf4ZdQeYe1R8RPBQ9QvFRY4LZtebPZ8Hq95gZ+u8W4HWjVdJSI/2WqcejqaDh41DGluiHZUMOIhNLRutNpNCaIYVwjqmBbdtbgmmhCaUQNeUZd1+Vy0M4kMeGKlLu/O0PTfjUn+5h06vjc2vG8kse7kto1TYb34WR9aoJTyZXIFtL8Q8rvGKpYrhoPj31PUkrwuynketZDl0nwvvL3k1pPGeUFCHGtRkogAqZEtcIf4DqHY42v9WAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;Mailgun verification&quot;
        title=&quot;&quot;
        src=&quot;/static/mail-gun-verification-settings-eb03484f15d2c6ae735daeb01a54a01a-48538.png&quot;
        srcset=&quot;/static/mail-gun-verification-settings-eb03484f15d2c6ae735daeb01a54a01a-bed0f.png 200w,
/static/mail-gun-verification-settings-eb03484f15d2c6ae735daeb01a54a01a-5fd34.png 400w,
/static/mail-gun-verification-settings-eb03484f15d2c6ae735daeb01a54a01a-48538.png 800w,
/static/mail-gun-verification-settings-eb03484f15d2c6ae735daeb01a54a01a-b70ec.png 1200w,
/static/mail-gun-verification-settings-eb03484f15d2c6ae735daeb01a54a01a-d4e04.png 1382w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;em&gt;2 - Corrosponding settings in Google Domains&lt;/em&gt;

  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/dns-settings-for-mailgun-818cf4ef316eca527bd141a85d835817-43de0.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 34.375%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABA0lEQVQoz32QW0oFMRBEw+XuxR+/ZODuwF25Fb/EfbiceWbej2TSbVVMQGSwISTd1amcjhnHUQ/nlBFC0HmeVUT0PE/d911YX9dV2raVqqpkmibx3gt0amK7TkvU2VOWpRoabtumOWiIC9E8G27bKk3TqO17HYYx9jjnAqSzR62ua4GHYFdDkc00pQkblmUBJQyPnX4CY7XWCnSPnEWfAbquExByCo2Ex3EoxsDLA4nUY9Q8PkhjgvoXXn/BsQDZM7QC6xX5G3ISx28gnNGL4B+myCTv5iLQ95R0jh8vsaj/LJ8e+KQBjnecb1j3lD+SHuQnrgl/RSb8SAY3QnBPhMVfwm/mu/PzCz4VTQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;DNS settings in Google Domains&quot;
        title=&quot;&quot;
        src=&quot;/static/dns-settings-for-mailgun-818cf4ef316eca527bd141a85d835817-48538.png&quot;
        srcset=&quot;/static/dns-settings-for-mailgun-818cf4ef316eca527bd141a85d835817-bed0f.png 200w,
/static/dns-settings-for-mailgun-818cf4ef316eca527bd141a85d835817-5fd34.png 400w,
/static/dns-settings-for-mailgun-818cf4ef316eca527bd141a85d835817-48538.png 800w,
/static/dns-settings-for-mailgun-818cf4ef316eca527bd141a85d835817-43de0.png 992w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Setting up your Isso.conf configuration file&lt;/h2&gt;
&lt;p&gt;Please familiarize yourself with the Isso configuration options by looking at the &lt;a href=&quot;https://posativ.org/isso/docs/configuration/server/&quot;&gt;official documentation&lt;/a&gt; on this subject. &lt;/p&gt;
&lt;p&gt;I have included the contents of an  &lt;strong&gt;isso.conf&lt;/strong&gt; configuration file, for you to use as a template. Once completed it will be set up for email notifications and logging to a file, outside of the Docker container. &lt;strong&gt;Please replace the values as mentioned in the inline comments.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Please leave the file paths alone as these will be defined later when you run container.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;general&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
 
dbpath = /db/comments.db &lt;span class=&quot;token comment&quot;&gt;# database location, do not change /db/ is a docker volume variable not a path&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;# your website or blog (not the location of Isso!)&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;# you can add multiple hosts for local development&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;# or SSL connections. There is no wildcard to allow&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;# any domain.&lt;/span&gt;
host =
    http&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//yourdomain.com/
    http&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//www.yourdomain.com/
    https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//yourdomain.com/
    https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//www.yourdomain.com/
    http&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//localhost&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8000 &lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;#your local website development web address&lt;/span&gt;
notify = smtp
log&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;file=/db/log.txt &lt;span class=&quot;token comment&quot;&gt;# the log file will be saved to your docker volume /db/, do not change path&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;server&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
listen = http&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//0.0.0.0&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;8080/ &lt;span class=&quot;token comment&quot;&gt;# inside the docker instance the commenting server will run on 8080, do not change&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;smtp&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
username = postmaster@email.yourdomain.com &lt;span class=&quot;token comment&quot;&gt;# Your own Default SMTP Login in Mailgun here&lt;/span&gt;
password = yourpassword &lt;span class=&quot;token comment&quot;&gt;# Your own Default Password in Mailgun here&lt;/span&gt;
host = smtp.mailgun.org &lt;span class=&quot;token comment&quot;&gt;# SMTP Hostname in MailGun&lt;/span&gt;
port = 2525 &lt;span class=&quot;token comment&quot;&gt;# SMTP Port in MailGun&lt;/span&gt;
security = none &lt;span class=&quot;token comment&quot;&gt;# Authentication not required in MailGun&lt;/span&gt;
to = admin@yourdomain.com &lt;span class=&quot;token comment&quot;&gt;# The email you want to recieve the notification on&lt;/span&gt;
from = postmaster@email.yourdomain.com &lt;span class=&quot;token comment&quot;&gt;# Your own Default SMTP Login in Mailgun here&lt;/span&gt;
timeout = 10

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;guard&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
enabled = true
ratelimit = 2
direct&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;reply = 30
reply&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;self = true
require&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;author = false
require&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;email = false
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Deploying the Isso commenting software to the VM&lt;/h2&gt;
&lt;p&gt;Go back to the &lt;a href=&quot;https://console.cloud.google.com/compute/instances&quot;&gt;Google Console&lt;/a&gt; and start up an SSH session to the VM by clicking the SSH button. You should see a screen below.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ssh-instance-1-e31174560201a7e126054e44491df429-afe6e.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 78.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACXUlEQVQ4y5WSW28SURSF518IPhlg5sxQU1FpgQL9If4QBSxUqgWZtpQObbE11oCkpLHxDfXFPjUt+OyDmpjw0FTCJZRbh9vM9pzDJaL1wiRf1prbmrWzh4lJTyEakyC2E4XtbQmexaKwtRkBSQrD7s4WPN/dBmkjDKHQMoTXxNZ6WGxH1lcoG5HVAf1zco/xrvrePVl7lPYFvG+9S+70wuP76QW/O70UWEz7A973ofXl12dn3+69OTxYXBGDh36/b9/jcac8nocYT8rlcqceuFypYDC4HxLFA8ZwQ/PRZNRk7t7UZGamtRkz5pZRmzFNaQjZaUGTQfprH5BB+5XVX++KQd/lq8RLORrdlPf2XsiJREKOx+NyMpmkMHduG8FhM4LTjpnDYD+PdZ5cs/bVbp0Cu0UAqxnBl8+f4G8HY5hFCjuDFIOVVwyzvMKakYKmBcUkCIqAOIXnkSIIqCfw2CNOPT4+VnvdrtpqtVRFUdQu9oRer6d2Oh2V4XgEHPodxGHlOAz2qO9ZloXT01PAL0OxWARZlsfa4Q8Ag/CDV8EhjgahgfbDOcAN4bJ5Cfl8HiqVCuBWgBtS2u02MFe1ow1pS27kh4FHR0dwUbmA8/Pv0Gg0oFar/0QNNxy+/A9GI5+c0JFLpRJtNzxUVaVMFog5wYFkvEKhAFXciIw5DJ44kBsE4g1DAS+lXC7T5ZBQEtZfyoQjZ7NZ2qZer0Oz2aRBY//hpA3JUqrVKuRyOTo2CSXhZEFEJw60WCzgcDhgzmaj6nQ6x2D+N2zo9Xo96HS6kf7KxA2J53n+j/wAqOLChjWwDXEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;Screenshot SSH&quot;
        title=&quot;&quot;
        src=&quot;/static/ssh-instance-1-e31174560201a7e126054e44491df429-48538.png&quot;
        srcset=&quot;/static/ssh-instance-1-e31174560201a7e126054e44491df429-bed0f.png 200w,
/static/ssh-instance-1-e31174560201a7e126054e44491df429-5fd34.png 400w,
/static/ssh-instance-1-e31174560201a7e126054e44491df429-48538.png 800w,
/static/ssh-instance-1-e31174560201a7e126054e44491df429-afe6e.png 900w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Now you will need to upload the configuration file to the default home user folder and execute the following commands. This will create the folders that the container will use and move our configuration file to where it is going to be expected.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; /var/lib/docker/isso
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; /var/lib/docker/isso/db
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; /var/lib/docker/isso/conf
&lt;span class=&quot;token function&quot;&gt;mv&lt;/span&gt; isso.conf /var/lib/docker/isso/conf/isso.conf
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now pull the prebuilt Isso docker container into your VM instance.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;docker pull wonderfall/isso
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;You should be able to run the docker container with the following command. It will be listening on port 30000.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;docker run --name isso -p 30000:8080 \
             --restart&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;always \
             -e USERID&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;1000 -e GROUPID&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;1000 \
             -v /var/lib/docker/isso/config:/config \
             -v /var/lib/docker/isso/db:/db \
             -d wonderfall/isso
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;You will never really have to look inside the Docker container, it will log errors to a file outside of the container. It can be treated like a black box.&lt;/p&gt;
&lt;h2&gt;Testing the ISSO server from the outside world&lt;/h2&gt;
&lt;p&gt;Test your Isso server is running and accessible with your subdomain. For example &lt;a href=&quot;http://comments.paulness.com:30000&quot;&gt;http://comments.paulness.com:30000&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you have followed all the instructions above, everything should be set up correctly. You should get a page that looks like the following.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bad-query-page-72b5a592ce9b2bcc9ad61e3b0008ea52-43c95.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 237px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 47.25738396624473%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABlUlEQVQoz5WR204aURSG5zkbvW5EBUYbY3vTNBU0vdWLxhgS6xOgjYW2HAYVi8HGGaixjiaUk4JhpjrAIAhf96Zpr5Ton6zsrH34D2srrtum0WjQub3lHyzRO80WTcfBsmwei8FggPI9s8OzsXE2t6MY+hGGkWPhzWtyxz/ZWA/xYm6eZFJD0zTS6T0+R6Ps7qXJZg+Jxb6ipVLsaAk+fooOSZXMbhyvz08gGERV/Tyf8IhV5eT0nNDaeyanvLxbWmTu5SsWg2/x+bxMTvvxeDzMzM6ysryM6ldZDX34S3hVv+RI1ymXy+TzeUqlError29u+FUoUCwWMU2TWv2Ki3KBQCDAjxOT87MzqtUqtVqdSqUi3lcYSEKeiFarNXqGDx2MQr/fv7eGkV3XpS7iOOJHbcvC/n1Np9PBbbeHPywdNUU5YgSWbdPr9f6L3iesmOYpW5tbHHzbJ/ElQiQSIZZIkc2k2c/q5AyDcDiMlogRjyexhOCoFIq02u12hyXV28KNHLTs7+76yAS2cCbvSbdybxThHwmgjJvjK8xmAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;Bad Request Page&quot;
        title=&quot;&quot;
        src=&quot;/static/bad-query-page-72b5a592ce9b2bcc9ad61e3b0008ea52-43c95.png&quot;
        srcset=&quot;/static/bad-query-page-72b5a592ce9b2bcc9ad61e3b0008ea52-09d93.png 200w,
/static/bad-query-page-72b5a592ce9b2bcc9ad61e3b0008ea52-43c95.png 237w&quot;
        sizes=&quot;(max-width: 237px) 100vw, 237px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Inserting comment snippet on your site&lt;/h2&gt;
&lt;p&gt;Now all you need to do is insert the following snippet on your own website. Just be sure to change &lt;strong&gt;‘yourdomain’&lt;/strong&gt; to your actual domain.&lt;/p&gt;
&lt;p&gt;Pure HTML&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;data-isso&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;http://comments.yourdomain.com:30000/&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;data-isso-css&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;http://comments.yourdomain.com:30000/js/embed.min.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;section&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;isso-thread&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;section&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;or if you are using React&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PostComments&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;componentDidMount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; scriptElem &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;script&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    scriptElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;text/javascript&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    scriptElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;data-isso&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;http://comments.yourdomain.com:30000/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    scriptElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;data-isso-css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;true&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    scriptElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;http://comments.yourdomain.com:30000/js/embed.min.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    scriptElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sectionElem &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;section&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    sectionElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;isso-thread&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;instance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;scriptElem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;instance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sectionElem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; classes&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; post&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; slug &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;post-comments&quot;&lt;/span&gt; className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;classes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;postComments&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; ref&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;el &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;instance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; el&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Troubleshooting&lt;/h2&gt;
&lt;p&gt;Checking the log file for errors, such as if you are not receiving email notifications&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# To exit the less command press either the &quot;q&quot; or &quot;Q&quot; keys.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# To scroll down press the down key&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;less&lt;/span&gt; /var/lib/docker/isso/db/log.txt
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Restarting the docker container, after making configuration changes&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Check the currently running containers&lt;/span&gt;
docker &lt;span class=&quot;token function&quot;&gt;ps&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Check the stopped containers&lt;/span&gt;
docker &lt;span class=&quot;token function&quot;&gt;ps&lt;/span&gt; -a

&lt;span class=&quot;token comment&quot;&gt;# Example start of a container&lt;/span&gt;
docker start &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;containerid&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Example stop of a container&lt;/span&gt;
docker stop &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;containerid&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Manually backup/download comments database&lt;/h2&gt;
&lt;p&gt;Use the file download feature in SSH with the following file&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;/var/lib/docker/isso/db/comments.db
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;</content:encoded></item><item><title><![CDATA[Cherry pickup algorithm]]></title><description><![CDATA[One of the harder questions on Leetcode.com is the  Cherry Pickup . I hope this post shines a light on this problem for many people…]]></description><link>https://www.paulness.com/cherry-pickup-leetcode/</link><guid isPermaLink="false">https://www.paulness.com/cherry-pickup-leetcode/</guid><content:encoded>&lt;p&gt;One of the harder questions on Leetcode.com is the &lt;a href=&quot;https://leetcode.com/problems/cherry-pickup/description/&quot;&gt;Cherry Pickup&lt;/a&gt;. I hope this post shines a light on this problem for many people struggling with the solution.&lt;/p&gt;
&lt;h2&gt;Problem description by Leetcode.com&lt;/h2&gt;
&lt;p&gt;The problem as described by Leetcode is as follows:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In a N x N  grid representing a field of cherries, each cell is one of three possible integers.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;0 means the cell is empty, so you can pass through;&lt;/li&gt;
&lt;li&gt;1 means the cell contains a cherry, that you can pick up and pass through;&lt;/li&gt;
&lt;li&gt;-1 means the cell contains a thorn that blocks your way.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Your task is to collect maximum number of cherries possible by following the rules below:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Starting at the position (0, 0) and reaching (N-1, N-1) by moving right or down through valid path cells (cells with value 0 or 1);&lt;/li&gt;
&lt;li&gt;After reaching (N-1, N-1), returning to (0, 0) by moving left or up through valid path cells;&lt;/li&gt;
&lt;li&gt;When passing through a path cell containing a cherry, you pick it up and the cell becomes an empty cell (0);&lt;/li&gt;
&lt;li&gt;If there is no valid path between (0, 0) and (N-1, N-1), then no cherries can be collected.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Symbols we will use to describe the problem&lt;/h2&gt;
&lt;p&gt;This post aims to simplify the problem and we will be using different symbols. These are outlined below.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[[],[]] / Matrix of matrixes - Field of cherries&lt;/li&gt;
&lt;li&gt;1 - 🍓 - Cherry&lt;/li&gt;
&lt;li&gt;0 - No cherry (possibly already collected)&lt;/li&gt;
&lt;li&gt;-1 - ᚦ (thorn that blocks the cherry collector)&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;🚶 - Cherry collector&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Can one make one round-trip collection&lt;/li&gt;
&lt;li&gt;Can only move down or right on his way to x=N-1, y=N-1&lt;/li&gt;
&lt;li&gt;Can only move up or left on his way to x=0, y=0&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Quiz&lt;/h2&gt;
&lt;p&gt;A few quiz questions below will help to understand the problem by example.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Question 1&lt;/strong&gt; What is the maximum number of cherries, the collector can collect in the following field?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ᚦ&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ᚦ&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ᚦ&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ᚦ&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ᚦ&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ᚦ&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Answer&lt;/strong&gt; = none because he can never reach his target.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Question 2&lt;/strong&gt; What about for this field?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🍓&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  ᚦ&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  ᚦ&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  ᚦ&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Lets find out!&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//On the way down - 5 cherries&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🍓&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  ᚦ&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  ᚦ&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  ᚦ&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🍓&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🚶&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//Return journey - 3 cherries&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🍓&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  ᚦ&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  ᚦ&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  ᚦ&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🚶&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  🚶&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Answer&lt;/strong&gt; = 8&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Notice one cherry is still left in the field, in the top right corner. Picking up that cherry would have meant leaving more cherries unpicked in the field. The reason we cannot possibly pick up all of the cherries in the field is because we can only move in down/right on the way down, then up/left on the return journey. We can only make one roundtrip cherry collection.&lt;/p&gt;
&lt;p&gt;Let us think about this further and come up with some other truths that may later help us, before writing any code&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cherries can only be picked up once. They are gone once picked up&lt;/li&gt;
&lt;li&gt;You cannot hit a thorn and continue. You must avoid thorns&lt;/li&gt;
&lt;li&gt;You may cross over a path you have already traveled. Sometimes this is wise to avoid thorns and get to other cherries&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Every path that can be traveled by going up/left from the destination (N-1, N-1) can also be identically
traveled by going down and right from the origin (0,0).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Optimization alert&lt;/strong&gt;. Therefore two people traveling down/right ‘one way’ can make the same cherry pickups as one person doing a ‘round-trip.’&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Source code&lt;/h2&gt;
&lt;p&gt;Source code in JavaScript for working out the max number of cherries you can pick up with two people, starting at the origin 0,0 and ending at the destination N-1, N-1 both with the restriction of only being able to move down or right.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;The recursion ensures that we explore all viable paths&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The Math.max ensures that we choose the two most lucrative paths&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;cherryPickup&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;grid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; maxY &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; grid&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; maxX &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; grid&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; memo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;yPersonA&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; xPersonA&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; xPersonB&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;//work out corrosponding Y variable for personB. (works since personA and personB have made the same number of moves)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; yPersonB &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; yPersonA &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; xPersonA &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; xPersonB&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;//key for the current state&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; memoKey &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; yPersonA &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;_&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; xPersonA &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;_&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; xPersonB&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;//work out if we are out of bounds&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; overTheEdge &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; maxY &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; yPersonA &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; maxY &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; yPersonB &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; maxX &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; xPersonA &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; maxX &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; xPersonB&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//we are actually over the edge HERE!!&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;overTheEdge&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;999999&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; personAHitAThorn &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; grid&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;yPersonA&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;xPersonA&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; personBHitAThorn &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; grid&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;yPersonB&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;xPersonB&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;personAHitAThorn &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; personBHitAThorn&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;//impossible move, either over the edge or directly on a thorn&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;999999&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;yPersonA &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; maxY &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; xPersonA &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; maxX &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;//reached the target finally&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; grid&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;yPersonA&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;xPersonA&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;memo&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;memoKey&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; undefined&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;//already visited&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; memo&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;memoKey&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

            &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; personAHasCherry &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; grid&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;yPersonA&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;xPersonA&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; personBHasCherry &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
                yPersonB &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; yPersonA &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; xPersonB &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; xPersonA &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//if personA didn&apos;t take it first!&lt;/span&gt;
                grid&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;yPersonB&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;xPersonB&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; cherriesCollectedByBothPeopleThisTurn &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;personAHasCherry &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;personBHasCherry &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token comment&quot;&gt;//both people make all possible single moves they can make (down and right)&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;//personB by definition will likely always be on a different path than personA since:&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;//   *   it will generate more COMBINED cherries (see above cherriesCollectedByBothPeopleThisTurn)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; maxCherriesCollectedByBothPeopleForRemainingTurns &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;token function&quot;&gt;dp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;yPersonA&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; xPersonA &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; xPersonB &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//personA right personB right&lt;/span&gt;
                    &lt;span class=&quot;token function&quot;&gt;dp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;yPersonA &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; xPersonA&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; xPersonB &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//personA down personB right&lt;/span&gt;
                Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;token function&quot;&gt;dp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;yPersonA&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; xPersonA &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; xPersonB&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//personA right personB down&lt;/span&gt;
                    &lt;span class=&quot;token function&quot;&gt;dp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;yPersonA &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; xPersonA&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; xPersonB&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//personA down personB down&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; cherriesCollectedRecursive &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; cherriesCollectedByBothPeopleThisTurn &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; maxCherriesCollectedByBothPeopleForRemainingTurns&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            memo&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;memoKey&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; cherriesCollectedRecursive&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; cherriesCollectedRecursive&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;</content:encoded></item><item><title><![CDATA[Amazon Fire Stick interferes with local network traffic]]></title><description><![CDATA[Last weekend I hosted a webpage on my machine at  http://192.168.1.249  over port 80. This webpage was to be used by another machine on my…]]></description><link>https://www.paulness.com/amazon-fire-stick-interferes-with-my-local-network/</link><guid isPermaLink="false">https://www.paulness.com/amazon-fire-stick-interferes-with-my-local-network/</guid><content:encoded>&lt;p&gt;Last weekend I hosted a webpage on my machine at &lt;a href=&quot;http://192.168.1.249&quot;&gt;http://192.168.1.249&lt;/a&gt; over port 80. This webpage was to be used by another machine on my network. Unfortunately, that day I was unable to access the webpage from the other machine.&lt;/p&gt;
&lt;p&gt;After exhaustively checking firewalls, ports and the router settings, It turned out to be the presence of the Amazon Fire Stick on the local network that was screwing things up for me. I could not believe it! Not only does this junk slow down my WiFi by silently transmitting a new SSID on the same channel as my router, but it blocks local traffic on my network.&lt;/p&gt;
&lt;p&gt;I am not an expert on networking, so my current solution to this problem is just to unplug my non-essential Amazon Fire Stick and chuck it across the room.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If anybody can shine a light on this, please reply in the comments. It would be much appreciated.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Check out the two lines below captured in Wireshark. It seems that the presence of the Amazon Fire Stick causes confusion between who is hosting 192.168.1.249.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-csv&quot;&gt;&lt;code class=&quot;language-csv&quot;&gt;7	4.92872	EdimaxTe_62:e9:8f	AmazonTe_45:59:71	ARP	42	Who has 192.168.1.249? Tell 192.168.1.160
8	4.99225	AmazonTe_45:59:71	EdimaxTe_62:e9:8f	ARP	42	192.168.1.249 is at 38:f7:3d:45:59:71&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Check out the &lt;a href=&quot;/wireshark-firestick-issue-e0e6c3cf4a93f0080ff493cc75813a3d.pcapng&quot;&gt;wireshark packet dump file&lt;/a&gt; and &lt;a href=&quot;/packets-during-session-a6f0fc53d4876760282de3d78584b1a2.csv&quot;&gt;CSV&lt;/a&gt;. Also a screengrab below:

  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/wireshark-4c88fcc6223977461ac4ebd094ab80e8-a5313.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.560646900269546%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAQF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAddQidQP/8QAFhABAQEAAAAAAAAAAAAAAAAAEwAg/9oACAEBAAEFAjjjx//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAMBAQAAAAAAAAAAAAAAAAIykQAg/9oACAEBAAY/AnO5zuc7x//EABYQAQEBAAAAAAAAAAAAAAAAABEAIP/aAAgBAQABPyF1ebv/2gAMAwEAAgADAAAAEE8//8QAFhEAAwAAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/EKys/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8QiP/EABoQAAIDAQEAAAAAAAAAAAAAAAARAdHwweH/2gAIAQEAAT8QjwFGBQ+3Bjkcn//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;WireShark screengrab&quot;
        title=&quot;&quot;
        src=&quot;/static/wireshark-4c88fcc6223977461ac4ebd094ab80e8-78f2b.jpg&quot;
        srcset=&quot;/static/wireshark-4c88fcc6223977461ac4ebd094ab80e8-dce19.jpg 200w,
/static/wireshark-4c88fcc6223977461ac4ebd094ab80e8-c1413.jpg 400w,
/static/wireshark-4c88fcc6223977461ac4ebd094ab80e8-78f2b.jpg 800w,
/static/wireshark-4c88fcc6223977461ac4ebd094ab80e8-ab4c4.jpg 1200w,
/static/wireshark-4c88fcc6223977461ac4ebd094ab80e8-bc99b.jpg 1600w,
/static/wireshark-4c88fcc6223977461ac4ebd094ab80e8-a5313.jpg 1855w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;</content:encoded></item><item><title><![CDATA[ZigZag conversion algorithm]]></title><description><![CDATA[The  ZigZag conversion problem  appears on Leetcode.com. In summary, you are provided a string whereby letters have been written into that…]]></description><link>https://www.paulness.com/zig-zag-leetcode/</link><guid isPermaLink="false">https://www.paulness.com/zig-zag-leetcode/</guid><content:encoded>&lt;p&gt;The &lt;a href=&quot;https://leetcode.com/problems/zigzag-conversion/&quot;&gt;ZigZag conversion problem&lt;/a&gt; appears on Leetcode.com. In summary, you are provided a string whereby letters have been written into that string in a zig-zag formation across multiple lines. You must know which letters are part of this formation and output them as you are reading them from left to right.&lt;/p&gt;
&lt;h2&gt;Leetcode Requirement&lt;/h2&gt;
&lt;p&gt;The string “PAYPALISHIRING” is written in a zigzag pattern on a given number of rows like this: (you may want to display this pattern in a fixed font for better legibility)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  P   A   H   N
   A P L S I I G
    Y   I   R&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;And then read line by line: “PAHNAPLSIIGYIR”
Write the code that will take a string and make this conversion given a number of rows:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;string convert(string text, int nRows);
convert(&amp;quot;PAYPALISHIRING&amp;quot;, 3) should return &amp;quot;PAHNAPLSIIGYIR&amp;quot;.&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Writing letters in ZigZag formation&lt;/h2&gt;
&lt;p&gt;To understand how to read letters written in ZigZag formation, it may also be helpful to know how to write letters in a ZigZag formation yourself. For example, if somebody tells you to write GEEKSFORGEEKS in ZigZag formation across three lines, you would output.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;G   S   G   S
 E K F R E K
  E   O   E &lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;and across 10 lines&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;G
 E
  E
   K
    S
     F       S
      O     K
       R   E
        G E
         E&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;See below for some additional examples.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;quot;ABC&amp;quot; with 2 rows = ACB
A C
 B

&amp;quot;ABCDE&amp;quot; with 2 rows = ACEBD
A C E
 B D

&amp;quot;ABCDE&amp;quot; with 3 rows = AEBDC
A   E
 B D
  C

Reading down to the bottom and then back up the zig-zag we get the values we inserted in order.
However, reading left to right then down we get the expected output: AEBDC&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Erroneous characters not part of the zig-zag write&lt;/h2&gt;
&lt;p&gt;In the LeetCode exercise, you’ve been asked to read the characters originally written in a ZigZag formation. However, you are also being asked to ignore characters that are not in the right positions and should not be included in the output.&lt;/p&gt;
&lt;p&gt;For example, read the characters left to right but only the characters that originally written in the ZigZag formation.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;quot;ABCDE&amp;quot; was originally written into 3 rows. The X should be ignored = 
A X E
 B D
  C&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The correct output here is AEBDC, because the X was never part of the ZigZag pattern.&lt;/p&gt;
&lt;h2&gt;Source Code - Accepted in LeetCode&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**
 * @param {string} s
 * @param {number} numRows
 * @return {string}
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;convert&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; numRows&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;flattenZigZagString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; numRows&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;flattenZigZagString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; numRows&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; numRows &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; s&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;//initialize array&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; rowArray &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;numRows&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; numRows&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        rowArray&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;//initialize variables&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; row &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; itemsToSkipOnThisRow &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; row&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; down&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;//read the string left to right, with each consecutive char considered on the next or previous row, scanning up and down each time&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; currentChar &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; s&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;//add the char at this index, ignore blank spots&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;currentChar &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            rowArray&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;row&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;row &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; numRows&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            down &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;row &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            down &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

        down &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; row&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; row&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;concat&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; rowArray&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;</content:encoded></item><item><title><![CDATA[Autocomplete with static files [4/4] - Implementing autocomplete with generated static files]]></title><description><![CDATA[This post finalizes the autocomplete series; you will be creating a textbox with autocomplete. The autocomplete will retrieve its data from…]]></description><link>https://www.paulness.com/autocomplete-with-static-files-part-4/</link><guid isPermaLink="false">https://www.paulness.com/autocomplete-with-static-files-part-4/</guid><content:encoded>&lt;p&gt;This post finalizes the autocomplete series; you will be creating a textbox with autocomplete. The autocomplete will retrieve its data from pre-generated static files in a folder on a web server, as opposed to a server API with searching capabilities.&lt;/p&gt;
&lt;h3&gt;Dynamic content vs static content&lt;/h3&gt;
&lt;p&gt;On a traditional web server when a user searches for JO, something similar to the following will occur:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The client sends a search request to the server, containing the partial word the user has typed. e.g., JO&lt;/li&gt;
&lt;li&gt;The partial word is then extracted, by server-side website/API code&lt;/li&gt;
&lt;li&gt;Database queries would be made to find records starting with JO&lt;/li&gt;
&lt;li&gt;Any results would then be returned to the user&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; userSearchedFor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;JO&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; normalUrl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&quot;http://www.javaserver.com/searchCustomer?name=&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;encodeURIComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userSearchedFor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toUpperCase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;With static file autocomplete, the flow is as follows:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Request made to the server&lt;/li&gt;
&lt;li&gt;We are looking for an exact file called JO or JO.json&lt;/li&gt;
&lt;li&gt;If that file exists, we return the file contents, which have already been prepared for us&lt;/li&gt;
&lt;li&gt;If it doesn’t exist (404), we must assume there are no results for JO.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; userSearchedFor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;JO&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; searchUrl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&quot;http://your-server.com/static-autocomplete-files/customers/&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;encodeURIComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userSearchedFor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toUpperCase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Demo in action&lt;/h3&gt;
&lt;iframe src=&quot;https://rawgit.com/paulness/AutocompleteUsageWithStaticFiles/master/index.htm&quot; style=&quot;width:100%; border:0; border-radius: 4px; overflow:hidden;&quot; sandbox=&quot;allow-modals allow-forms allow-popups allow-scripts allow-same-origin&quot;&gt;&lt;/iframe&gt;
&lt;h3&gt;Snippet source code&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/paulness/AutocompleteUsageWithStaticFiles&quot;&gt;Edit on GitHub&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;link rel&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;stylesheet&quot;&lt;/span&gt; href&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;autocomplete/auto-complete.css&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;label &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;txt-autocomplete&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;Start typing&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;label&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;input id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;txt-autocomplete&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;autocomplete/auto-complete.min.js&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; xhr&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;autoComplete&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            selector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;txt-autocomplete&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            minChars&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            delay&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            source&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;term&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;abort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                xhr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;XMLHttpRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;GET&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;autocomplete/results/&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; term&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toUpperCase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;.json&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onload&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token function&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;JSON&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;responseText&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            renderItem&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; search&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;div class=&quot;autocomplete-suggestion&quot; data-countryregion=&quot;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;additionalInfo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;region &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&quot;&gt;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;results &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;/div&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            onSelect&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; term&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;You have selected &apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHTML &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;. Which is in the region: &apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;data-countryregion&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Dependencies:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://goodies.pixabay.com/javascript/auto-complete/demo.html&quot;&gt;AutoCompleteJs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Autocomplete with static files [3/4] - Building an autocomplete static file generator]]></title><description><![CDATA[In this post, we will be building an autocomplete static file generator in JavaScript. With the following characteristics: Input: 1 x CSV…]]></description><link>https://www.paulness.com/autocomplete-with-static-files-part-3/</link><guid isPermaLink="false">https://www.paulness.com/autocomplete-with-static-files-part-3/</guid><content:encoded>&lt;p&gt;In this post, we will be building an autocomplete static file generator in JavaScript. With the following characteristics:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Input: 1 x CSV&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Output: 1 x ZIP archive, containing many files&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;One .json file for every search term with results&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Transformation details&lt;/h2&gt;
&lt;p&gt;This application will be transforming the input CSV such that:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;One column in the CSV will be designated as the column to be searched on&lt;/li&gt;
&lt;li&gt;All partial search terms that lead to results will be saved as separate files. The name of each file will be the partial search term&lt;/li&gt;
&lt;li&gt;Within each of those files will contain the entire list of results for that search term&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;An example transformation is shown below:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;CSV&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-csv&quot;&gt;&lt;code class=&quot;language-csv&quot;&gt;Andrew Smith, Basketball
Adam Smith, Netball&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;strong&gt;JSON&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;A.JSON
[{ name: Andrew Smith, Sport: Basketball }, { name: Adam Smith, Sport: Netball }]

AD.JSON
[{ name: Adam Smith, Sport: Netball }]&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Building the solution&lt;/h2&gt;
&lt;h3&gt;The data structure that will hold the information&lt;/h3&gt;
&lt;p&gt;We will be using a Trie to hold the words/result, any node of the tree can have children and therefore is capable of being the head of the Trie aka ‘a Trie itself’. See the code below:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PrefixTreeNode&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;endWord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;additionalInfo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Adding methods&lt;/h3&gt;
&lt;p&gt;We will want to add two methods to the Trie. We could add them to the existing class, however, to keep the code cleaner we will extend the PrefixTreeNode class&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PrefixTree&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PrefixTreeNode&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;addWord&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;word&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; additionalInfo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;//adds a new word to the trie&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;getAllFullWords&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;//gets all the words and associated data from the trie&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Method that adds words to the trie data structure&lt;/h3&gt;
&lt;p&gt;The first method addWord will insert one word and its associated data into the Trie. The algorithm in Pseudocode is as follows:&lt;/p&gt;
&lt;p&gt;Start with the head of the Trie.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;:addWordToTrie
Does the next level of the trie contain the first letter of the word?
    If it doesn&amp;#39;t, add the first letter of the word (as a new node) into that level.

Is the remaining word only one letter long?
    We have reached the endWord, please mark the node as such, save associated data
    DONE

Is the remaining word more than one letter long?
    :Add remaining portion of the word to the trie :addWordToTrie
    REPEAT/RECURSIVE&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;And in JavaScript&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;addWord&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;word&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; additionalInfo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;addWordHelper&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; str&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;str&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;str&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PrefixTreeNode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;str&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;str&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;str&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;endWord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//set the end word, even if a longer word exists already&lt;/span&gt;
            node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;str&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;additionalInfo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; additionalInfo&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;str&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;addWordHelper&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;str&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; str&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;addWordHelper&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; word&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Method that gets all the information out of the Trie&lt;/h3&gt;
&lt;p&gt;We need a method that gets us all node paths (partial words) from the Trie that ultimately lead to full words. Pseudocode is as follows:&lt;/p&gt;
&lt;p&gt;Start with the top of the trie. Once the method has completed, the hashTable allValidLettersCombinations should be full. Each hashKey would be a filename, and the file’s contents would be full words.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Array savedLettersSoFar
Hashtable allValidLettersCombinations 

:currentNode
If there is a letter on currentNode
    Save that letter to the array savedLettersSoFar

If currentNode is an &amp;#39;endWord&amp;#39;
    Get all previous letters and their sequential combinations/permutations
    For every combination, save that whole word into the hash allValidLettersCombinations

If the currentNode has children nodes
For every childnode
Create a new copy of Array savedLettersSoFar and REPEAT the above&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;And now in JavaScript&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;getAllFullWords&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getAllSeqentialPermutations&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;strArray&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; permutations &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; partialStringSoFar &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        strArray&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            partialStringSoFar &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; s&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            permutations&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;partialStringSoFar&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; permutations&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; nodePaths &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;traverse&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nodesOnThisPath&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            nodesOnThisPath&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;endWord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; permutations &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getAllSeqentialPermutations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nodesOnThisPath&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                permutations&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nodePaths&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        nodePaths&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                            results&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nodesOnThisPath&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                            additionalInfo&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; n&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;additionalInfo
                        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        nodePaths&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                            results&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nodesOnThisPath&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                            additionalInfo&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; n&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;additionalInfo
                        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; k &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; n&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;traverse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nodesOnThisPath&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;traverse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; nodePaths&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Source code for the Trie class&lt;/h3&gt;
&lt;iframe style=&quot;width:100%; border:0; border-radius: 4px; overflow:hidden;&quot; src=&quot;https://rawgit.com/paulness/AutocompleteStaticFileGeneratorHtml/master/js/prefixTrie.js&quot;&gt;&lt;/iframe&gt;
&lt;h3&gt;Source code for saving the Trie data to files&lt;/h3&gt;
&lt;iframe style=&quot;width:100%; border:0; border-radius: 4px; overflow:hidden;&quot; src=&quot;https://rawgit.com/paulness/AutocompleteStaticFileGeneratorHtml/master/js/index.js&quot;&gt;&lt;/iframe&gt;
&lt;h3&gt;All source code&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/paulness/AutocompleteStaticFileGeneratorHtml&quot;&gt;Edit on GitHub&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Demonstration&lt;/h2&gt;
&lt;p&gt;Usage:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Upload any CSV with headers, one of the headers must be named “name” using the tool below&lt;/li&gt;
&lt;li&gt;Download the ZIP file of results&lt;/li&gt;
&lt;li&gt;Upload contents of ZIP file to a folder on your own web server&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&quot;https://rawgit.com/paulness/AutocompleteStaticFileGeneratorHtml/master/index.htm&quot; style=&quot;width:100%; border:0; border-radius: 4px; overflow:hidden;&quot; sandbox=&quot;allow-modals allow-forms allow-popups allow-scripts allow-same-origin&quot;&gt;&lt;/iframe&gt;</content:encoded></item><item><title><![CDATA[Autocomplete with static files [2/4] - Visualization of words in a Trie]]></title><description><![CDATA[This post allows you to visualize how autocomplete data would be arranged within a Prefix Trie data structure. If you would like an…]]></description><link>https://www.paulness.com/autocomplete-with-static-files-part-2/</link><guid isPermaLink="false">https://www.paulness.com/autocomplete-with-static-files-part-2/</guid><content:encoded>&lt;p&gt;This post allows you to visualize how autocomplete data would be arranged within a Prefix Trie data structure. If you would like an introduction to Trie data structures before continuing, please check out &lt;a href=&quot;https://medium.freecodecamp.org/trie-prefix-tree-algorithm-ee7ab3fe3413&quot;&gt;Julia’s article on Medium&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Using the visualization&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The words can be changed on the fly; this will adjust the Trie diagram&lt;/li&gt;
&lt;li&gt;Sentences may be used instead of words&lt;/li&gt;
&lt;li&gt;The letters constituting each of the words are represented in the tree as nodes&lt;/li&gt;
&lt;li&gt;The end of each full word is marked on the node with the text “endWord”&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Clicking on any of the nodes will trace down from that node. You will be shown the words and have an option to download them.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;This is the basis; we will expand on when we implement our autocomplete static file generator&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&quot;https://rawgit.com/paulness/AutocompletePrefixTrieReact/master/build/index.html&quot; style=&quot;width:100%; height:1000px; border:0; border-radius: 4px; overflow:hidden;&quot;&gt;&lt;/iframe&gt;
&lt;h3&gt;Source code&lt;/h3&gt;
&lt;p&gt;I created this visualization with the React framework, to the availability of &lt;a href=&quot;http://www.reactd3.org&quot;&gt;ReactD3&lt;/a&gt; and &lt;a href=&quot;https://www.npmjs.com/package/react-d3-tree&quot;&gt;ReactD3 Tree&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://codesandbox.io/s/vqj8v17875&quot;&gt;&lt;img src=&quot;https://codesandbox.io/static/img/play-codesandbox.svg&quot; alt=&quot;Edit on CodeSandbox&quot;&gt;&lt;/a&gt;
&lt;a href=&quot;https://github.com/paulness/AutocompletePrefixTrieReact&quot;&gt;Edit on GitHub&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Autocomplete with static files [1/4] - Introduction]]></title><description><![CDATA[Why would anybody even want to use static files? When they have access to a perfectly fine queryable database, it seems totally crazy. Or…]]></description><link>https://www.paulness.com/autocomplete-with-static-files-part-1/</link><guid isPermaLink="false">https://www.paulness.com/autocomplete-with-static-files-part-1/</guid><content:encoded>&lt;blockquote&gt;
&lt;p&gt;Why would anybody even want to use static files? When they have access to a perfectly fine queryable database, it seems totally crazy.&lt;/p&gt;
&lt;p&gt;Or does it?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Below are some pros and cons of using static files for autocomplete searches:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Pros&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;No server-side logic == much much faster!&lt;/li&gt;
&lt;li&gt;Reliability, fewer points of failure, no database issues&lt;/li&gt;
&lt;li&gt;Cheaper and more options for hosting&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Cons&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;More space used on the server, one file for each letter sequence that results. For example: A -&gt; { Andrew, Adam, Anthony }, AN -&gt; { Andrew } etc…&lt;/li&gt;
&lt;li&gt;Data is not real time. Generating the static files must be done upfront during build time.&lt;/li&gt;
&lt;li&gt;Generating the static files can be a burden&lt;/li&gt;
&lt;li&gt;Basic autocomplete only, no match for ElasticSearch or SOLR&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;In this series I will walk through the following topics, step by step:&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;/autocomplete-with-static-files-part-2&quot;&gt;Learning from a visualization of the trie data structure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Typing our own words into the visualization&lt;/li&gt;
&lt;li&gt;Downloading sample CSV’s&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/autocomplete-with-static-files-part-3&quot;&gt;Building an autocomplete static file generator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Understanding a trie data structure for storing words in relation&lt;/li&gt;
&lt;li&gt;Covering recursive trie traversal algorithms&lt;/li&gt;
&lt;li&gt;Using the generator with a CSV&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/autocomplete-with-static-files-part-4&quot;&gt;Building a basic autocomplete implementation utilizing static files&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Using the demo&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[Downloading a large ZIP archive from Flickr]]></title><description><![CDATA[After going on an organized cycling trip, I attempted to download the  2.5GB photo archive from Flickr . So many of the download tools that…]]></description><link>https://www.paulness.com/downloading-large-zip-from-flickr/</link><guid isPermaLink="false">https://www.paulness.com/downloading-large-zip-from-flickr/</guid><content:encoded>&lt;p&gt;After going on an organized cycling trip, I attempted to download the &lt;a href=&quot;https://www.flickr.com/photos/99699280@N07/sets/72157685533324160&quot;&gt;2.5GB photo archive from Flickr&lt;/a&gt;. So many of the download tools that I used were not capable of downloading this frickin file on my Time Warner Cable 50Mbps connection.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Frustrating, seemingly impossible.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The tools I used that work fine with all other sites/files, just failed miserably with Flickr:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Chrome&lt;/li&gt;
&lt;li&gt;FireFox&lt;/li&gt;
&lt;li&gt;XDM download manager&lt;/li&gt;
&lt;li&gt;FlashGet&lt;/li&gt;
&lt;li&gt;UGet&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I really wanted those photos so was not ready to give up. It is positive that all of the extremely annoyed Flickr users who raised an open &lt;a href=&quot;https://www.flickr.com/help/forum/en-us/72157674951404393/&quot;&gt;issue&lt;/a&gt; want their photos too.&lt;/p&gt;
&lt;p&gt;I came across &lt;a href=&quot;https://ninjadownloadmanager.com/download-free&quot;&gt;Ninja Download Manager (free edition)&lt;/a&gt;, this tool never actually failed with the download. Despite seemingly dropping out hundreds of times, it always recovered. Be patient, ignore the statistics you see when downloading and you’ll eventually get your archive out of Flickr.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/flickr-download-ninja-download-manager-25fb14d7932c6670ba6af1e970451547-3a66a.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 563px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 144.404973357016%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAIAAAAl5NuSAAAACXBIWXMAABJ0AAASdAHeZh94AAACp0lEQVQ4y+VVSY7TQBT1GZBQx/HYTpyUh5o8xymPcRIn6aibZlhEAtQL2HEDlmwQN+EqbFlxGr47vUBILFgh1E9PVa9Kfv/bLtlPWiyXZVUVhajLqq6bpirbpqmrqqzKum3rqqaMiUIwztM0DXhAMOGMM8ooodIiB3MtigKcy6UQUKuEalV+DyFEHCewA04CoMRnPmZQgFBOpU1bH/vu7enV+7vXpci79Xq/A+xXHWB1dXVYrVan0+l4PKI54jFP2zQsQpazMA8l3L0gxztyeEOu39Gyz+IgTZM0iTOY4jjL0iSJCyFgRs484LwQRRLF2PMpJtKTD19Hn78rn749/fLj4vnHVmRFu6FB1G77RVEleXG4fnZz+3JZNnMXu5jNPYx84mDq+ETS4+6yvLWKa6u6nS42M5bqbqAhZrjBIBxu+qHucM1hKqKwf6aCqIGIhOxJHofwHhcRK8SCc6qMR6oiq+MHjuWLsTxSBj2MmjI2NFVXFVPXpalt24Y1MS0QljWB1RweDoDQzJ45ruv5PibE8z0QPsaT6dQwTMM0p1Nb8jzveHUTBOmu73f9brvZwDl3q9V6u8mzrK7rrlsfDvv1er1Zd/t9j33fdZymaUBI0Mpy5oZl2XPXIxR6zZDreNjBxEZIVjXgaKzKii4rGlCFppOpZc+GzpPJxNAHqLquaJqq6b9SN0zduNRNoHmmZhiqbiiqBsbBrCjg+h36Pf8EVVUfzKC0v8T/a7Ys69E982M8qn97ztB9NBqNz5Bl+Dzva6mwOutzaRhheb4KhCzLw20zxuu6raoGMqMsGwgJxkLfp5AekBKcB1EUO46HEMLYHzKDMfidUUrhLydhTEUBWVUJUYIfzIQw1/WzbBFFEaWc83A2m8dJ0gwhBmnWQHT12z4Igp9oTQh9IS3j/AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;Screenshot of Ninja Download Manager&quot;
        title=&quot;&quot;
        src=&quot;/static/flickr-download-ninja-download-manager-25fb14d7932c6670ba6af1e970451547-3a66a.png&quot;
        srcset=&quot;/static/flickr-download-ninja-download-manager-25fb14d7932c6670ba6af1e970451547-cc2ef.png 200w,
/static/flickr-download-ninja-download-manager-25fb14d7932c6670ba6af1e970451547-9f735.png 400w,
/static/flickr-download-ninja-download-manager-25fb14d7932c6670ba6af1e970451547-3a66a.png 563w&quot;
        sizes=&quot;(max-width: 563px) 100vw, 563px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Keep in mind that you may have luck on a different internet connection. I had all this trouble with my Time Warner Cable 50Mbps connection YMMV. Using ethernet instead of wireless would definitely help too. I hope this post helps you out.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Representing numbers, using sticks and stones.]]></title><description><![CDATA[Can you represent numbers with just sticks and stones? Decimal numbers, negative numbers? What kind of weird ‘stone age’ data structure is…]]></description><link>https://www.paulness.com/unary-numeral-linked-list-of-numbers/</link><guid isPermaLink="false">https://www.paulness.com/unary-numeral-linked-list-of-numbers/</guid><content:encoded>&lt;blockquote&gt;
&lt;p&gt;Can you represent numbers with just sticks and stones? Decimal numbers, negative numbers? What kind of weird ‘stone age’ data structure is this?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In this blog post, I will be touching on subjects in fun and different way. We will be investigating a strange data structure, for learning purposes, we will be using sticks and stones.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Numbers can indeed be represented using sticks and stones *&lt;/li&gt;
&lt;li&gt;All numbers in this strange formation are by definition ‘in order’, no need for sorting algorithms here&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;* This demonstration only supports decimal values with one digit of precision. It is possible to modify this code yourself later and leverage the positional nature of the lists to provide additional precision.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Before continuing, I recommend that you fiddle around with the numbers in the following demonstration:&lt;/p&gt;
&lt;iframe src=&quot;https://rawgit.com/paulness/UnaryNumeral-DoublyLinkedList/master/representing-numbers-with-rocks-and-sticks-in-react/build/index.html&quot; style=&quot;width:100%; height: 1000px; border:0; border-radius: 4px; overflow:scroll;&quot;&gt;&lt;/iframe&gt;
&lt;h2&gt;Rules of play&lt;/h2&gt;
&lt;p&gt;Assuming you have fiddled around with the above demonstration, you will understand:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The puddle is zero&lt;/li&gt;
&lt;li&gt;Sticks directly under the puddle represent occurrences of zero in the list&lt;/li&gt;
&lt;li&gt;Rocks directly under the puddle may represent, 0.1, 0.11, etc..&lt;/li&gt;
&lt;li&gt;Upper rocks signify whole numbers&lt;/li&gt;
&lt;li&gt;Lower rocks signify decimal/remaining numbers&lt;/li&gt;
&lt;li&gt;As you move further to the left of the puddle, you are discovering negative numbers&lt;/li&gt;
&lt;li&gt;Sticks represent the existence/occurrence count of numbers&lt;/li&gt;
&lt;li&gt;Rocks without sticks underneath do not represent the occurrence of numbers&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Getting the numbers back out of the rock formation ‘in order’&lt;/h2&gt;
&lt;p&gt;The simple algorithm described below:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Move from the puddle rock to the first rock on the left
    If there are &amp;#39;n&amp;#39; stick(s) under that rock, we have a &amp;#39;n&amp;#39; occurrences of -1 so add those to the list of numbers
    If that rock has rocks underneath, look for the one that has sticks underneath
    If the third rock has one stick underneath we have found -1.3, so add that to the list of numbers found
etc.

Reverse the numbers found so far.

Try the puddle
    If there are 3 sticks under the puddle add 3 occurrences of 0 to the list of numbers found so far
    If there are 2 rocks under the puddle and 1 stick under those rocks add 0.2 to the list of numbers found so far

Move from the puddle rock to the first rock on the right
    If there are &amp;#39;n&amp;#39; stick(s) under that rock, we have &amp;#39;n&amp;#39; occurrences of 1 so add those to the list of numbers
    If that rock has rocks underneath, look for the one that has sticks underneath
    If the eleventh rock has one stick underneath we have found one occurrence of 1.11, so add that to the list of numbers found
etc.&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;What kind of data structure are we using here?&lt;/h2&gt;
&lt;p&gt;The data structure used for this is a doubly linked list representing numbers in unary numeral system. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The numeric whole number value is determined by the node position from the zero position node&lt;/li&gt;
&lt;li&gt;Each node is capable of starting a new list of decimal nodes&lt;/li&gt;
&lt;li&gt;The numeric remaining/decimal value is also determined by its position from the head node in its own list&lt;/li&gt;
&lt;li&gt;Each node has an occurrence value which is zero by default&lt;/li&gt;
&lt;li&gt;If the occurrence is zero, that number does not exist&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Unary numeral doubly linked list with additional lists for decimal numbers&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Assuming all nodes here have an occurrence count of 1 and the middle node is zero.

[-1.2, 0, 1.1]

is

O&amp;lt;-&amp;gt;O&amp;lt;-&amp;gt;O
|       |
O       O
|
O&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UnaryNumeralNode&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;next &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; undefined&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prev &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; undefined&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;decimalNode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; undefined&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;occurrenceCount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UnaryDecimalNode&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;next &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; undefined&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;occurrenceCount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;What is the unary numeral system?&lt;/h2&gt;
&lt;p&gt;The unary numeral system is the simplest numeral system to represent natural numbers. The &lt;a href=&quot;https://en.wikipedia.org/wiki/Unary_numeral_system&quot;&gt;unary numeral system&lt;/a&gt;, is often the first numeric system taught to babies and it was widely used in ancient times. You may use the unary numeric system today in darts, also known as tallying.&lt;/p&gt;
&lt;p&gt;3 is represented as:
|||&lt;/p&gt;
&lt;p&gt;4 is represented as:
||||&lt;/p&gt;
&lt;h2&gt;Optimizing this data structure&lt;/h2&gt;
&lt;p&gt;You would not use this data structure to solve cutting-edge problems in computer science. It uses a lot of memory! Adding more and more numbers to the above demonstration would almost certainly result in a JavaScript heap out of memory exception.&lt;/p&gt;
&lt;p&gt;How can we make this more efficient? Please look into skip lists next, to see how you can add a skip to each node in the above tree structure. This optimization would remove the need to add empty nodes in the list purely for positional reasons, thereby alleviating the memory issues.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://webdiis.unizar.es/asignaturas/TAP/material/skiptrees.pdf&quot;&gt;Academic paper on skip trees by Xavier Messeguer&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.geeksforgeeks.org/skip-list/&quot;&gt;GeeksForGeeks article on skip lists&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Skip_list&quot;&gt;Wikipedia article on skip lists&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Source code&lt;/h2&gt;
&lt;p&gt;You can find the source code for this on my &lt;a href=&quot;https://github.com/paulness/UnaryNumeral-DoublyLinkedList&quot;&gt;GitHub repository&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[NHibernate QueryOver examples using the C# library]]></title><description><![CDATA[Real world usage examples, showcasing the power of the strongly typed database query language NHibernate QueryOver. If you’d like to read up…]]></description><link>https://www.paulness.com/nhibernate-queryover-examples/</link><guid isPermaLink="false">https://www.paulness.com/nhibernate-queryover-examples/</guid><content:encoded>&lt;p&gt;Real world usage examples, showcasing the power of the strongly typed database query language NHibernate QueryOver.&lt;/p&gt;
&lt;p&gt;If you’d like to read up more about the benefits of NHibernate, ORM and QueryOver generally please read the following articles.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.andrewwhitaker.com/queryover-series/&quot;&gt;QueryOver series by Andrew Whitaker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://nhibernate.info/doc/&quot;&gt;Official NHibernate documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Examples&lt;/p&gt;
&lt;h3&gt;1. ReadOnly usage&lt;/h3&gt;
&lt;p&gt;ReadOnly is a safety measure that you can apply to NHibernate queries. I highly recommend you use this property when you do not intend to perform database updates/inserts. Take the following example:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-c#&quot;&gt;&lt;code class=&quot;language-c#&quot;&gt;Customer customerAndOrders =
            NHibernateSession.QueryOver&amp;lt;Customer&amp;gt;()
            .Fetch(n =&amp;gt; n.Orders).Eager
            .Where(n =&amp;gt; n.CustomerId == navbarId)
            .SingleOrDefault()
            .ReadOnly(); //this is where you set ReadOnly()

//modifications to the objects will NOT be automatically propagated to the database
NastyMethodThatModifiesData(customerAndOrders);
NastyMethodThatModifiesData(customerAndOrders.Orders);&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;There are some caveats to ReadOnly in NHibernate, I recommend that you read more on the subject &lt;a href=&quot;http://nhibernate.info/doc/nhibernate-reference/readonly.html&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;2. Transforming&lt;/h3&gt;
&lt;p&gt;Using the inbuilt DistinctRootEntity transformer, we can safely transform duplicate rows originating from left joins (one to many or many to many). The results after the transform are correctly nested C# objects.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-c#&quot;&gt;&lt;code class=&quot;language-c#&quot;&gt;IList&amp;lt;NavBarItem&amp;gt; navBarItemsForNavBar =
        NHibernateSession.QueryOver&amp;lt;NavbarItem&amp;gt;()
        .Where(n =&amp;gt; n.NavbarId == navbarId)
        .Fetch(n =&amp;gt; n.Section).Eager //one section per navBarItem
        .Fetch(n =&amp;gt; n.Images).Eager //multiple images per navBarItem
        .TransformUsing(Transformers.DistinctRootEntity) //this is the transform
        .ReadOnly().List();

//The client actually wants to sort the images within each NavBarItem entry, in this case we sort this nested content in code.
//ReadOnly() is set already for safety to prevent any updates/inserts occurring as a result of the sorting
navBarList.ForEach(ni =&amp;gt; ni.Images = ni.Images.OrderBy(c =&amp;gt; c.Position).ToList());&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;3. Projecting and inner joins with multiple criteria/conditions&lt;/h3&gt;
&lt;p&gt;This below query shows both of the following.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Inner joins with additional conditions, part of join criteria. In this example, we are getting all the GroupTests and Reviews by just the reviewIds&lt;/li&gt;
&lt;li&gt;Projecting/selecting only a few properties instead many unneeded columns, using the AliasToBean transformer&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-c#&quot;&gt;&lt;code class=&quot;language-c#&quot;&gt;GroupTestDo groupTestDo = null;
ReviewDo reviewDo = null;
return
    NHibernateSession.QueryOver&amp;lt;GroupTestReviewDo&amp;gt;()
        .Inner.JoinAlias(r =&amp;gt; r.Reviews, () =&amp;gt; reviewDo, r =&amp;gt; r.Id.IsIn(reviewIds))
        .Inner.JoinQueryOver(g =&amp;gt; g.GroupTests, () =&amp;gt; groupTestDo, gt =&amp;gt; gt.IsPublished)
        .OrderBy(gt =&amp;gt; gt.Title).Asc
        .SelectList(list =&amp;gt;
            list.Select(() =&amp;gt; groupTestDo.Id).WithAlias(() =&amp;gt; groupTestDo.Id)
            .Select(() =&amp;gt; groupTestDo.Title).WithAlias(() =&amp;gt; groupTestDo.Title))
    .TransformUsing(Transformers.AliasToBean&amp;lt;GroupTestDo&amp;gt;())
    .List&amp;lt;GroupTestDo&amp;gt;();&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;4. Eager fetching down two levels&lt;/h3&gt;
&lt;p&gt;In this example, we are attempting to retrieve all the ListingCategories and the Categories for each of those ListingCategories. Doing this all in the same query using the Fetch Eager.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-c#&quot;&gt;&lt;code class=&quot;language-c#&quot;&gt;if (fetchListingCategories) {
query = query.Fetch(c =&amp;gt; c.ListingCategories).Eager
        .Fetch(c =&amp;gt; c.ListingCategories[0].Categories).Eager;
}&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The two fetch commands, translate to the following in SQL:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;outer&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;join&lt;/span&gt; ListingCategory listingcat4_
    &lt;span class=&quot;token keyword&quot;&gt;on&lt;/span&gt; this_&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ListingId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; listingcat4_&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ListingId
&lt;span class=&quot;token keyword&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;outer&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;join&lt;/span&gt; Category categorydo5_
    &lt;span class=&quot;token keyword&quot;&gt;on&lt;/span&gt; listingcat4_&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CategoryId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; categorydo5_&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CategoryId
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;You can learn more about nHibernate fetching strategies &lt;a href=&quot;http://nhibernate.info/doc/nhibernate-reference/performance.html&quot;&gt;here&lt;/a&gt;. &lt;/p&gt;
&lt;h3&gt;6. Subqueries&lt;/h3&gt;
&lt;p&gt;Subqueries are very useful for retrieving data in some cases.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-c#&quot;&gt;&lt;code class=&quot;language-c#&quot;&gt;//This is a nHibernate LINQ lambda expression only
var groupTestReviewsIdsDetachedQuery = QueryOver.Of&amp;lt;GroupTestReviewDo&amp;gt;()
        .Where(gtr =&amp;gt; gtr.GroupTestId == groupTestId)
        .Select(Projections.Distinct(Projections.Property&amp;lt;GroupTestReviewDo&amp;gt;(p =&amp;gt; p.ReviewId)));

//The expression defined above will be used in the below database query.
var reviews =
        NHibernateSession.QueryOver&amp;lt;ReviewDo&amp;gt;()
        .WithSubquery.WhereProperty(r =&amp;gt; r.Id).In(groupTestReviewsIdsDetachedQuery)
        .Where(r =&amp;gt; r.IsPublished)
        .Fetch(r =&amp;gt; r.ProductDo).Eager
        .OrderBy(r =&amp;gt; r.Title).Asc
        .ReadOnly().List();&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;You can read more on NHibernate subqueries &lt;a href=&quot;http://www.andrewwhitaker.com/blog/2014/10/24/queryover-series-part-8-working-with-subqueries/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;7. Refactoring legacy loop code to use NHibernate Future Query / multiple result sets&lt;/h3&gt;
&lt;p&gt;In this example, imagine we encounter some pre-existing legacy code that executes a database select statement within a for loop. This results in unnecessary round trips to the database, e.g., connecting, executing query, returning results, NHibernate automatically transforming results to C# classes etc.&lt;/p&gt;
&lt;p&gt;Database queries in loops are generally discouraged.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-c#&quot;&gt;&lt;code class=&quot;language-c#&quot;&gt;private IEnumerable&amp;lt;ListingCategoryDo&amp;gt; GetMostRecentListingCategoriesByListing(List&amp;lt;Listing&amp;gt; listingResults)
{
    for (int i = 0; i &amp;lt; listingResults.Count; i++)
    {
        var listing = listingResults[i];
        ListingCategoryDo topListingCategoryForListing =
                    NHibernateSession.CreateQuery(&amp;quot;FROM ListingCategoryDo l WHERE l.ListingId = :listingId ORDER BY l.PublishDate DESC&amp;quot;)
                        .SetParameter(&amp;quot;listingId&amp;quot;, listingId)
                        .SetReadOnly(true)
                        .SetMaxResults(1)
                        .UniqueResult&amp;lt;ListingCategoryDo&amp;gt;();

        yield return topListingCategoryForListing;
    }
}

//this will hit the database (n times)
//n round-trips will be made (n = listingResults.Count)
List&amp;lt;ListingCategoryDo&amp;gt; mostRecentListingCategoriesForListings = GetMostRecentListingCategoriesByListing(listingResults).ToList();&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Fortunately, we can refactor the above query code quite easily, to perform a batch SELECT command, that will return multiple result sets.&lt;/p&gt;
&lt;p&gt;In the below example: the for loop is only generating the batch SQL behind the scenes. The database round-trip happens once, on demand after the entire loop is complete. Improving efficiency drastically.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-c#&quot;&gt;&lt;code class=&quot;language-c#&quot;&gt;private IEnumerable&amp;lt;IFutureValue&amp;lt;ListingCategoryDo&amp;gt;&amp;gt; GetMostRecentListingCategoriesByListing(List&amp;lt;Listing&amp;gt; listingResults)
{
    for (int i = 0; i &amp;lt; listingResults.Count; i++)
    {
        var listing = listingResults[i];
        IFutureValue&amp;lt;ListingCategoryDo&amp;gt; topListingCategoryForListing =
                NHibernateSession.CreateQuery(&amp;quot;FROM ListingCategoryDo l WHERE l.ListingId = :listingId ORDER BY l.PublishDate DESC&amp;quot;)
                    .SetParameter(&amp;quot;listingId&amp;quot;, listingId)
                    .SetReadOnly(true)
                    .SetMaxResults(1)
                    .UniqueResult&amp;lt;ListingCategoryDo&amp;gt;();

        yield return topListingCategoryForListing;
    }
}

//this will set up all the SQL select statements
var mostRecentListingCategoriesForListingsFuture = GetMostRecentListingCategoriesByListing(listingResults).ToList(); 

//this will perform the database query with multiple result sets
var mostRecentListingCategoriesForListings = mostRecentListingCategoriesForListingsFuture.Select(fq =&amp;gt; fq.Value).ToList();&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;You can read more about future queries &lt;a href=&quot;https://ayende.com/blog/3979/nhibernate-futures&quot;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I think that we can all benefit from using type-safe queries with NHibernate, let me know in the comments if you have any questions on how to implement something using QueryOver and NHibernate.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Ubuntu 16.04.3 (x64) bash script for developers after a fresh install]]></title><description><![CDATA[Get your development environment up and running quickly! In the post, we will go through an automated bash script, which will turn your…]]></description><link>https://www.paulness.com/ubuntu-bash-script-setup-dev-software/</link><guid isPermaLink="false">https://www.paulness.com/ubuntu-bash-script-setup-dev-software/</guid><content:encoded>&lt;blockquote&gt;
&lt;p&gt;Get your development environment up and running quickly!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In the post, we will go through an automated bash script, which will turn your fresh Ubuntu install into a fully fledged development machine within no time. This script I have tested on Ubuntu 16.04.3 as of Nov-13-2017. You’ll get a chance to un-check the software that you are not interested in. I’ve included a range of software for you to choose from.&lt;/p&gt;
&lt;p&gt;It is as simple as:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Download &lt;a href=&quot;http://mirrors.bloomu.edu/ubuntu-releases/16.04.3/ubuntu-16.04.3-desktop-amd64.iso&quot;&gt;Ubuntu 16.04.3&lt;/a&gt; and install it, if you do not already have Ubuntu installed&lt;/li&gt;
&lt;li&gt;Copy the file &lt;a href=&quot;https://gist.github.com/paulness/73238d84996cb8fc21aff644218a49a2&quot;&gt;post_install.sh&lt;/a&gt; to your Ubuntu desktop open a terminal in your desktop and run the below command.&lt;/li&gt;
&lt;li&gt;Open the terminal&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ubuntu-running-post-install-script-right-click-to-open-terminal-6fd8100a660a104147275d7d810efc34-6a965.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 66.75105485232068%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAABJ0AAASdAHeZh94AAADC0lEQVQoz2OoCS5wt7dxdXN0dLC2szF1dLSyszW3szGzB5GmdrYWdrZmQIaDvaW9nbm9lUm3l8tMH6fJHpbTva0Y5mZ3dFVXTe/vmNXfMWPapJ6a8hmT+2fPmjZj6oS5c2fPmNg1c0r/nNkzJnc2zZ07c860yZucbPZZ6Bxz0T/lpsPQnJDyePf6H6d3/Dqz8/+vrxcXzaopLmhqrCnMTmluaX59++LfLx/+/////u6Fv39+//nxY0+w7xYz7b3Ohoc99BiqYoovX7j05OnjN2/eABWd3L/NxtrU3s7SxFjP08Plxrnj3z5//Pv3z+PL5379/Pnj8+edAV5bzXR2OxgcctNjqKhuuH75yts3r9+/ewvUfGr3eicHKzdXBwc7y8AAn8cPH/7/BwLfv3wGyv78/GWHv89mM70dtkZ7nfQZukpKrl649O7dW4jmCycP+3i5eHm62NqYB/h7vXz5EigI1AzEQMaPz1+2+vutN9HfamOyw9aQYVZM3LWLl96+ff3x/Tug9M3bt7y9XD3cnaytTP2xaP682TdgjbHRRmuzzTamDLPyii+dOf/w4YMnjx/9//f/xvXr3p4uQQHenh5OwYG+L1+8AOr5++fvvz9/gYzvHz+t9wlcYWi6xsJyk60lQ09O4+P7Dz98ePf6NciS69evOTvZ+ni7AmPb09PlBVgzwuYvX9Z4hy7WN19hbrvBzoFhQn7rozsPPrx99+r5i5/ffjy896Cns727va2+pgrIePPy1fcvXz+9//D5w8evn7+8e/ZiuUf4PB2bZRZOa+xcGCJU/aqti2psSyutCutsStocKyd7N03zbZjlXzfHv2qqW94kx5TJjonTneJnucTOdYmeZew5W995kYX7MmsPBgcm4zTpmFTJ6BSJ6FTJqHTJiCyJsHzJsBKp0HKZoFqF4GblwDZV/y41n151rwmaHpN1PWYYeMy38Flg4c2QaBSeLh+XIR8PQVkKcTmKMflK0SXK0ZUq0XVq0Y3qEa0aYR1aIV3aQb06Af3aPlMN/WaZBcw28wcAm0CyUkJpe7YAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;Right click and open a terminal in the Desktop folder&quot;
        title=&quot;&quot;
        src=&quot;/static/ubuntu-running-post-install-script-right-click-to-open-terminal-6fd8100a660a104147275d7d810efc34-48538.png&quot;
        srcset=&quot;/static/ubuntu-running-post-install-script-right-click-to-open-terminal-6fd8100a660a104147275d7d810efc34-bed0f.png 200w,
/static/ubuntu-running-post-install-script-right-click-to-open-terminal-6fd8100a660a104147275d7d810efc34-5fd34.png 400w,
/static/ubuntu-running-post-install-script-right-click-to-open-terminal-6fd8100a660a104147275d7d810efc34-48538.png 800w,
/static/ubuntu-running-post-install-script-right-click-to-open-terminal-6fd8100a660a104147275d7d810efc34-6a965.png 1185w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;And run the commands.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# ensure the line endings are unix (after downloading from GIT)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sed&lt;/span&gt; -i -e &lt;span class=&quot;token string&quot;&gt;&apos;s/\r$//&apos;&lt;/span&gt; post_install.sh

&lt;span class=&quot;token comment&quot;&gt;# execute the script&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;chmod&lt;/span&gt; +x post_install.sh&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; ./post_install.sh
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This is what you’ll see in the terminal, right before you execute the script.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ubuntu-running-post-install-script-fd2314c96bce6f48c87197ec393a6e0f-b70ec.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 63.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAABJ0AAASdAHeZh94AAACvUlEQVQoz3WN209SAQDGz1MBraT0ISTlchAOcDhw4NwvcJIzQVDBMhGTREFFEFFKo3nJ2yjDdM50S6fpzJk5SzNz2UttPfVXhb30kG2/ffv2bb99wFTvZBwLj3QM93ti3WQoybakuVCaaeyj6gYYX5b1DvOeHC8+YYVRjh/nmFlRWA56F3z8op8DZjOFHJQq+PPTjqGRW7EpMJbXtc9Bba/g1lXk3ibauGOve2cVP6CuYwd3TFKnlOOMQn7eRn55YCDbnRmwxLsMoRgdSjojKWc47QqlnXcTpC9Fe9NMTYZ2D9JChuTGSGaPJI9Y/ISzn7msPzwIkO0c6ofiDTo3B6HVZtKpxwUjx6jtmALGlBZMiRAVKFFhM5UaRaVplyCOaOKEtX/lrd9FBOgbm+lDemrLOVuZ2l4KovIqVA5jciNWYsSuQcXEz7vBLjf6bpp3CPIjRR6z2BcW/eayAi8mJgaQTuEqbbykQiQ6i0RrkWjgYkr/gsi00GWNeEO/TdAHJH1IE59ZxymHAm/SmYdQm3CdMUtV1is6RAb+i1UGmiRasdSwhbHvCfaAoor+JwYDNnKjWTjqKqHOZdnFsk0Gmv/I6w5+B+f3CGafpA4ZClgame+3xF0lBCxV22Q660UUd7MEdJdCq6hryyG8xfhdnD3geOB5drIfiQty0ixV/+dZa7uiNUs1Yhm0YnNvoO5Nu7CNufY5N1DIvxzEE9HylmZFQ1gRjCiCUUUgpqzvqvAnKr0pVU1GLWY11Y9AYVwvLFu8r601azZxExd3WS+wsbAxaO9JKKNJVUdSFU2roll19LEmOgK2T+juT+vDzwyhgrFp3nxnEQ4swv4lS+0K4lnHfVu0H8j3zfToIt3KSHdFkQeJyrZeVWtaHc5qwjlt6yjY8rSqeVrflDc0zhqDc6aGBVP9kqVuFQ+sEYHf1QTYX4VjhicAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;Terminal just before executing the script&quot;
        title=&quot;&quot;
        src=&quot;/static/ubuntu-running-post-install-script-fd2314c96bce6f48c87197ec393a6e0f-48538.png&quot;
        srcset=&quot;/static/ubuntu-running-post-install-script-fd2314c96bce6f48c87197ec393a6e0f-bed0f.png 200w,
/static/ubuntu-running-post-install-script-fd2314c96bce6f48c87197ec393a6e0f-5fd34.png 400w,
/static/ubuntu-running-post-install-script-fd2314c96bce6f48c87197ec393a6e0f-48538.png 800w,
/static/ubuntu-running-post-install-script-fd2314c96bce6f48c87197ec393a6e0f-b70ec.png 1200w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;And once you press enter, you’ll see text streaming down.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ubuntu-running-post-install-script-underway-20359217582b2eba26519537ceca2d61-ac231.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 66.18887015177066%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAABJ0AAASdAHeZh94AAADAklEQVQozxWP208TeRiG52KTVeLhzgNonc5v2k7pMKdO59xpO21n2k7LQBlri9BCoYWWWjksCC5dRQMBN56BbNxs1rAb1sSNGokndG/WxAv/Ksfky5vn5sn7ftCNwuIEW1xJZCeDFycYu87mG6GBFtc/y2fnxcySlFpR9OtSbFVSbyrKmixsm8mdrPYoLe2aEvRg5PaasPRva3NTWurAtXXv5JZv7H7vyDZefELZe8HBfcZ8RsZfMJEDVjrk+EOe/iSTXxLEVx2HrhWqbawxh80sYJNXAsU2XZhn7EU2v8JZq5zZYfUOE73FqhucfFeSH4bFPSX0XqE/aeTnFAEt2+1ZpLHgnmqDciGUshR9KGJmhYSTlmwYTCTNRnVGjRNyBONoF1nz4h8V6lAl/9cJ6OrsctGbL2KD44h9kchkArEsHk+iskXrKSzicNqvGt6wcpahjqK+H5Byt+9DOPhWpv7TSGi9dbWCliqeYg0UC5SZJbUcmcgEov100sSjDieAKJ2lmZM+qgv4j4LKOf8bOXQgBd+pNLRrD8+C+gJotkBliEiZRCxHxJMe2dFyhGZgqubmxVOEeJpgjnn8P4LRnt7XEv9SZA+UELRba8+AahupN5GKTWdytGbRScMXHmAMy5mAxwyvIp+hxDMkc/y7fLk78EKQnvPCa1WCtuqdGbTack80wZiNm7lA0iJ0R3Z+zvijJq6FuxmnOXjCR3eBwBEw0o0/49R/OOWVGoF+qf7URKtNd3UarqQpURNIneY1IKbwSAwVFRfLnyb6jqGBLqSvC2BHkPJ54q9g7G8u9lxNQJs/bzjNzQvjU+fLBW/S7lMueeJl2Kwg6Qlg1IDe8CZrcLjmkqZgYRrmbmLyH3Rijzf2ZQN6vHy34R6fOld25EbPWKtnbM5VWYRHr7tHOkhpDS2se4bu+PP3egce4rntPnOHSP9Gpf4Usk8FE5pLTdddo47p3He4cLkJD1+BS/Pu0jVkeBUt3fAUbnvtDSy/hVm/9vbfC2R36P4n3MDvnPUNq6jnRTFdWlcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;Script in progress&quot;
        title=&quot;&quot;
        src=&quot;/static/ubuntu-running-post-install-script-underway-20359217582b2eba26519537ceca2d61-48538.png&quot;
        srcset=&quot;/static/ubuntu-running-post-install-script-underway-20359217582b2eba26519537ceca2d61-bed0f.png 200w,
/static/ubuntu-running-post-install-script-underway-20359217582b2eba26519537ceca2d61-5fd34.png 400w,
/static/ubuntu-running-post-install-script-underway-20359217582b2eba26519537ceca2d61-48538.png 800w,
/static/ubuntu-running-post-install-script-underway-20359217582b2eba26519537ceca2d61-ac231.png 1186w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;You’ll see this prompt window; you may un-check software you do not wish to install. The themes I have unchecked by default since I prefer the default theme in Ubuntu.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ubuntu-running-post-install-script-prompt-2525aaaa80d10f3932f13891d071d028-267a4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 66.38655462184873%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAABJ0AAASdAHeZh94AAADJElEQVQozwEZA+b8AIBbeGY4X4BKUms6Wmk1Wmw4WG86V243UHA2THM4Snc5SHo7Rnw6Qn05PoE6PIM7OZJJQ5ZLQZRJO5lLOwCNYYR8NHOpaIaLQnl7IGWDJWSHJl+NKlyULFiaL1WhM1GmMkyoMESuMkC0NTu6Nze7NzG8Oy/FRC7KRiwAdlpkbSlmcSVrcydlbSpXai5TbzBTczJQdzNNezVKezNEei4+fjA7gTI4hjQ2izg2njw1tzswu0Evw0guAHVXcG0mZXEjZmcbWoFtfqSroKKjnZugnJyhnZacmpKYlJ6imp+jm56imqaooJKenWQ/SbY3LLo/MMJGLgBxd3xuKmdyJGdjGFiUiZ3Y4NTP08u+xMK5wL+ks7q4wsTT2M/T18/R1c3c3tW/zMlgPEmzNi24PTK9QS8Ah3BzbyhkcSRoYxhZkIOX0dnNyczFw8O6vby0vsK5zc/Hys3Gys7GyMzE09XMuMO/YDtIsDUvtDw0tz0xAJhaXW8mYHEkaWIYWZCDmNLazsrOxsHCvLu8trW7tL7Cu8PHwMrOxsrOxtTWzbnEwF87Sa0zMrA6N7M7NACWbHVsJ2BwJGdjGFqPgpjQ2M3IzMW9wLq6u7WwtK66v7jJzcbJzcbHy8XS1My3w79dOkqoMjWsODqyPDoAi2uBaydibSNkYRdblYib3eHT1NTL0NHGu8K5x8vE09TK0dPJ1NbL09bL29zTwsrEXTlKoy84qDc9rz0/AIBoeGspY2wiYmQZXGxniYianYWQloSSl3GEj3yMlYaTmICNk4OQloORl4qWnHiNllg4TaAuO6U3Qqs9RACLf4ltLGRqH2FoHl5VIFtLH1ZQH1ZSIFRYJFRYJFFZJE9dJk5eJkxhJ0pjKEhkKkh/LkWcMEOiN0emO0gAlX2QayhjZxteZx1eah1dbx9cdCBceSFcfSFbgSNZhSVWiCZTjChRkCpOlCxMlixJlSxIlzBInzhMoDhLAHFMamUgXGccXmcdXmYeXmgfXWogW20hWnEiWnYjWnskWn8lWIImVYQoU4gpUYoqT40qTZQwTpk2UJo2T/RSZ7QufGa2AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;Choosing software to install&quot;
        title=&quot;&quot;
        src=&quot;/static/ubuntu-running-post-install-script-prompt-2525aaaa80d10f3932f13891d071d028-48538.png&quot;
        srcset=&quot;/static/ubuntu-running-post-install-script-prompt-2525aaaa80d10f3932f13891d071d028-bed0f.png 200w,
/static/ubuntu-running-post-install-script-prompt-2525aaaa80d10f3932f13891d071d028-5fd34.png 400w,
/static/ubuntu-running-post-install-script-prompt-2525aaaa80d10f3932f13891d071d028-48538.png 800w,
/static/ubuntu-running-post-install-script-prompt-2525aaaa80d10f3932f13891d071d028-267a4.png 1190w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;After pressing OK to install the software, you’ll see more prompts, type appropriate passwords, accept license agreements, accept certificates and choose the obvious options along the way to ensure all software is installed.

  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ubuntu-running-post-install-script-prompt-2-ad023302d1e2771afdef69beeae1538e-ac231.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 66.02023608768971%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAABJ0AAASdAHeZh94AAAC9klEQVQoz13L508aARjH8fs32rQiZTgRUOGOcVAUXKCI1OIp4Dg5NucBIkPrVlQUqzZVa1q7tEltWnBy4iSoJDZp4qv+N702adI0+bx4nl/yBSYNYaewO9rUhkNmJ7+jr7LdJzD4KnT+isaQQD0I1o2KasZAxYQQjkKSWRG4qpRv1Eo3asHNeiEQMw0PCf1b1mgUDoRp6BgLnWab54uMK6Vtazz923LdB37DNrfqS7k8KRCnQJCEyo8lvKySm6vlAP06k5tt9eRjBLMH5yEuyECIDD6RPiBqHhBrBsCakEAxCMpHIHhSLJmGxetSwZGEl1ZwM3VlgK+V8LAwgoG5GWbscZe9xePQeayNTovagTbYzSrLb8peSpcK66x3BySqAxGHlPEuVGWAFw/gbGsfw2qnGQf0wXh4ec6/EPMvxIm5BXwmTsQWvbHFgefx4NJSeGU+uPpM2pgEOYdw+YmCC0zZPTjLQrBs2H1kMRjL3WUvrk8uc6dXt+eZm9NM7vT69iL3I3v1/fLu5206exaRqb8KePvSykOYD7xoeeph9vQxbZb77Qv+2dTx0W4isZdM7iYT+7u7FDKVIo+ODvf3s5cXib2DkEy9U1mREIN7UgGwiOIuZjfOtFrutS+F41c3mROSPDtJn52m02QqTZLn1P3HVeYyeXAYkjVu8wU7kDgJi4EZNOJioy46aqd1elu840NTI8Hx0dDEP6h3nBqnhqYH+yf6Ic17vugTCH+TyYFIl9fJRp30HhutEwUtvQoXKrOjcorjPxa5E1MRfmHTa670I1j1GVYCseFZKnbQuq0PzD10BGUhGKvNxjY4C1vdhfq+Yp2vRBsobQpy1JGyhgi3bopT/YqnfAfVbknqgLg36mB0UaX1IcXkyDPiNKOfZgzRjUOPkFGmYYL1JFqgmyvSxos1yyUNK5z6l7z6N5BmE9IArupejGb6G5tteSZHfoebjhB0JMBABpnIMMswxm6dLNBHi3Rzxdr5Ys0KX7smbF4Xan8BByVC2dT7SH4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;Typing MySQL server password&quot;
        title=&quot;&quot;
        src=&quot;/static/ubuntu-running-post-install-script-prompt-2-ad023302d1e2771afdef69beeae1538e-48538.png&quot;
        srcset=&quot;/static/ubuntu-running-post-install-script-prompt-2-ad023302d1e2771afdef69beeae1538e-bed0f.png 200w,
/static/ubuntu-running-post-install-script-prompt-2-ad023302d1e2771afdef69beeae1538e-5fd34.png 400w,
/static/ubuntu-running-post-install-script-prompt-2-ad023302d1e2771afdef69beeae1538e-48538.png 800w,
/static/ubuntu-running-post-install-script-prompt-2-ad023302d1e2771afdef69beeae1538e-ac231.png 1186w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;When you have finished, you’ll have a range of software on your computer to help you with development.&lt;/p&gt;
&lt;p&gt;Credits:
&lt;a href=&quot;https://github.com/KingsleyOmon-Edo/&quot;&gt;Original bash script credit to KingsleyOmon-Edo&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Creating an Android app, with a large offline database (over 4GB)]]></title><description><![CDATA[A few years ago I was tasked with creating an Android application, which held and searched on all of the medical information available in…]]></description><link>https://www.paulness.com/phonegap-large-sqlitedatabase/</link><guid isPermaLink="false">https://www.paulness.com/phonegap-large-sqlitedatabase/</guid><content:encoded>&lt;p&gt;A few years ago I was tasked with creating an Android application, which held and searched on all of the medical information available in the monthly 5GB &lt;a href=&quot;http://download.cms.gov/nppes/NPI_Files.html&quot;&gt;NPI Data Dissemination CSV&lt;/a&gt;, all offline.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/npi-search-presentation-98fe442f903f262c49d17a60ba9ca25e.pptx&quot;&gt;See technical presentation for the app (PPT)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This was quite a challenging app to build for the following reasons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/npi-search-app-learn-how-to-understand-the-search-results-89647de30bf0e36315f73963eab79e1a.pdf&quot;&gt;Complicated business requirements for search&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Underpowered tablets, storage, CPU, and RAM&lt;/li&gt;
&lt;li&gt;The database exceeded the maximum size permitted for bundling on Google Play
The file system on the tablet could not support single files over 2GB. Therefore the database was split across three files.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This blog post hopes to help others in overcoming any challenges in building an app with such a large database.&lt;/p&gt;
&lt;h2&gt;Underpowered tablets and pre-processing step&lt;/h2&gt;
&lt;p&gt;The devices had insufficient processing power to perform any query other than an exact match search on an indexed column. Indeed not powerful enough to execute SQLite LIKE searches on across this database. Only exact queries on indexed columns would return results in an acceptable time-frame.&lt;/p&gt;
&lt;p&gt;Since the &lt;a href=&quot;/npi-search-app-learn-how-to-understand-the-search-results-89647de30bf0e36315f73963eab79e1a.pdf&quot;&gt;business requirements&lt;/a&gt; for name searching required LIKE search in addition to many other types of search. It was imperative to pre-arrange all data that the app needed, such that an exact match would return all results desired by the business. For example, JOHN SMITH would return JOHNNIE SMITH, JON SMITH, etc.&lt;/p&gt;
&lt;h3&gt;Multi-threaded C# SQLite database builder&lt;/h3&gt;
&lt;p&gt;To solve this problem, I created a multi-threaded program in C# that transformed the &lt;a href=&quot;http://download.cms.gov/nppes/NPI_Files.html&quot;&gt;NPI Data Dissemination CSV&lt;/a&gt; and produced a SQLite database.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Associated all names that would match ‘if SQL Like was possible.’&lt;/li&gt;
&lt;li&gt;Associated all names that matched due to name variation&lt;/li&gt;
&lt;li&gt;Associated all names that matched when broken down into pieces&lt;/li&gt;
&lt;li&gt;Produced a searchable SQLite NPI database, such that the tablet did not have to do any of the ‘work.’&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I knew that a modern computer would have sufficient power to process even the most complicated associations on this CSV file. By pushing the workload onto the computer, I was alleviating the workload on the devices. This program ran on a computer with 32 cores and 32GB of RAM, only once per month.&lt;/p&gt;
&lt;p&gt;Sample unit test code for showing some of name matching rules&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-c#&quot;&gt;&lt;code class=&quot;language-c#&quot;&gt;using System.Collections.Generic;
using System.Linq;
using DBBuilder.Business.Services.Stage1SingleName;
using DBBuilder.Business.Services.Stage2CompleteName;
using DBBuilder.Data;
using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace DBBuilder.Business.Test
{
    [TestClass]
    public class TestNameMatchLogic
    {
        [TestMethod]
        public void TestMatchToEmptyName()
        {
            List&amp;lt;NameAndLinkedNames&amp;gt; firstNames = new List&amp;lt;NameAndLinkedNames&amp;gt;()
            {
                new NameAndLinkedNames(){Name = &amp;quot;KY&amp;quot;, ExactMatches = new List&amp;lt;int&amp;gt; { 64334 }},
                new NameAndLinkedNames(){Name = &amp;quot;&amp;quot;, ExactMatches = new List&amp;lt;int&amp;gt; { 100001 }}
            };

            firstNames = NameAssociatorService.FindLinkedNames(firstNames, new Dictionary&amp;lt;string, HashSet&amp;lt;string&amp;gt;&amp;gt;());
        }

        [TestMethod]
        public void TestShortNameBrokenNameMatchLogic()
        {
            //FULL NAME 1 - LUCY LU CHANG (64334)
            //FULL NAME 2 - LU CHANGER (100001)
            var fullUnprocessedNames = new NpiUnprocessedNamePair[] {
                new NpiUnprocessedNamePair() { FirstName = &amp;quot;LUCY L&amp;quot;, LastName = &amp;quot;CHANG&amp;quot; },
                new NpiUnprocessedNamePair() { FirstName = &amp;quot;L&amp;quot;, LastName = &amp;quot;CHANGER&amp;quot; },
            };


            List&amp;lt;NameAndLinkedNames&amp;gt; firstNames = new List&amp;lt;NameAndLinkedNames&amp;gt;()
            {
                new NameAndLinkedNames(){Name = &amp;quot;LUCY L&amp;quot;, ExactMatches = new List&amp;lt;int&amp;gt; { 64334 }},
                new NameAndLinkedNames(){Name = &amp;quot;L&amp;quot;, ExactMatches = new List&amp;lt;int&amp;gt; { 100001 }}
            };

            List&amp;lt;NameAndLinkedNames&amp;gt; lastNames = new List&amp;lt;NameAndLinkedNames&amp;gt;()
            {
                new NameAndLinkedNames(){Name = &amp;quot;CHANG&amp;quot;, ExactMatches = new List&amp;lt;int&amp;gt; { 64334 }},
                new NameAndLinkedNames(){Name = &amp;quot;CHANGER&amp;quot;, ExactMatches = new List&amp;lt;int&amp;gt; { 100001 }}
            };

            Dictionary&amp;lt;string, HashSet&amp;lt;string&amp;gt;&amp;gt; nameVariationsDictionary = new Dictionary&amp;lt;string, HashSet&amp;lt;string&amp;gt;&amp;gt;();
            firstNames = NameAssociatorService.FindLinkedNames(firstNames, nameVariationsDictionary);
            lastNames = NameAssociatorService.FindLinkedNames(lastNames, nameVariationsDictionary);

            var results = NameJoinerService.PerformFinalTranslationOnProcessedResults(fullUnprocessedNames, firstNames, lastNames);

            Assert.AreEqual(results.Find(n =&amp;gt; n.FirstName == &amp;quot;L&amp;quot; &amp;amp;&amp;amp; n.LastName == &amp;quot;CHANGER&amp;quot;).AdditionalMatchesByBrokenUpNameMatch[0], 64334);
            Assert.AreEqual(results.Find(n =&amp;gt; n.FirstName == &amp;quot;LUCY L&amp;quot; &amp;amp;&amp;amp; n.LastName == &amp;quot;CHANG&amp;quot;).AdditionalMatches[0], 100001);
        }

        /// &amp;lt;summary&amp;gt;
        /// This tests the core name matching logic from start to finish. 
        /// If this test starts failing you have broken something major!
        /// &amp;lt;/summary&amp;gt;
        [TestMethod]
        public void TestBrokenNameMatchLogic()
        {
            Dictionary&amp;lt;string, HashSet&amp;lt;string&amp;gt;&amp;gt; nameVariationsDictionary = new Dictionary&amp;lt;string, HashSet&amp;lt;string&amp;gt;&amp;gt;()
            {
                { &amp;quot;HELEN&amp;quot;, new HashSet&amp;lt;string&amp;gt; {&amp;quot;ELLEN&amp;quot;, &amp;quot;NELLY&amp;quot; } },
                { &amp;quot;VAN&amp;quot;, new HashSet&amp;lt;string&amp;gt; {&amp;quot;JON&amp;quot; } },
                { &amp;quot;HELEN-MARIA VAN-DAM&amp;quot;, new HashSet&amp;lt;string&amp;gt; { &amp;quot;VUNDERBELT&amp;quot; } }
            };

            List&amp;lt;NameAndLinkedNames&amp;gt; firstNames = new List&amp;lt;NameAndLinkedNames&amp;gt;()
            {
                new NameAndLinkedNames(){Name = &amp;quot;VUNDERBELT&amp;quot;, ExactMatches = new List&amp;lt;int&amp;gt; { 64334, 100001 }}, //variation of full name
                new NameAndLinkedNames(){Name = &amp;quot;VUNDERBELT2&amp;quot;, ExactMatches =  new List&amp;lt;int&amp;gt; {70}}, //nothing
                new NameAndLinkedNames(){Name = &amp;quot;HELEN VAN DAM&amp;quot;,  ExactMatches = new List&amp;lt;int&amp;gt; {98989898}}, //partial piece
                new NameAndLinkedNames(){Name = &amp;quot;HELEN VAN&amp;quot;,  ExactMatches = new List&amp;lt;int&amp;gt; {8888}}, //partial piece
                new NameAndLinkedNames(){Name = &amp;quot;MARIA VAN&amp;quot;,  ExactMatches = new List&amp;lt;int&amp;gt; {555}}, //partial piece
                new NameAndLinkedNames(){Name = &amp;quot;VAN DAM&amp;quot;,  ExactMatches = new List&amp;lt;int&amp;gt; {1111}}, //partial piece
                new NameAndLinkedNames(){Name = &amp;quot;HELEN&amp;quot;, ExactMatches =  new List&amp;lt;int&amp;gt; {49999999}}, //partial piece of name 
                new NameAndLinkedNames(){Name = &amp;quot;JON&amp;quot;,  ExactMatches = new List&amp;lt;int&amp;gt; {49999997}}, //partial piece that is also a variation
                new NameAndLinkedNames(){Name = &amp;quot;ELLEN&amp;quot;,  ExactMatches = new List&amp;lt;int&amp;gt; {666666}} //partial piece that is also a variation
            };

            firstNames = NameAssociatorService.FindLinkedNames(firstNames, nameVariationsDictionary);


            //check VUNDERBELT
            var vunderbeltMatches = firstNames.First(n =&amp;gt; n.Name == &amp;quot;VUNDERBELT&amp;quot;);

            //VUNDERBELT LongerNameLikeMatches
            Assert.AreEqual(vunderbeltMatches.LongerNameLikeMatches.Count, 1);
            Assert.IsTrue(vunderbeltMatches.LongerNameLikeMatches[0].Name == &amp;quot;VUNDERBELT2&amp;quot;);
            Assert.AreEqual(vunderbeltMatches.LongerNameLikeMatches[0], firstNames.First(n =&amp;gt; n.Name == &amp;quot;VUNDERBELT2&amp;quot;));

            //VUNDERBELT LongerNameLikeMatches all other matches are empty
            Assert.IsFalse(vunderbeltMatches.ShorterNameLikeMatches.Any());
            Assert.IsNull(vunderbeltMatches.NameVariationMatches);
            Assert.IsNull(vunderbeltMatches.PartialNameMatches);
            Assert.IsNull(vunderbeltMatches.PartialNameVariationMatches);



            //check HELEN
            var helensMatches = firstNames.First(n =&amp;gt; n.Name == &amp;quot;HELEN VAN DAM&amp;quot;);

            //HELEN LongerNameLikeMatches empty
            Assert.IsTrue(helensMatches.LongerNameLikeMatches == null || !helensMatches.LongerNameLikeMatches.Any());

            //HELEN ShorterNameLikeMatches
            Assert.AreEqual(helensMatches.ShorterNameLikeMatches.Count, 3);
            Assert.IsTrue(helensMatches.ShorterNameLikeMatches.Any(m =&amp;gt; m.Name == &amp;quot;HELEN VAN&amp;quot;));
            Assert.IsTrue(helensMatches.ShorterNameLikeMatches.Any(m =&amp;gt; m.Name == &amp;quot;VAN DAM&amp;quot;));
            Assert.IsTrue(helensMatches.ShorterNameLikeMatches.Any(m =&amp;gt; m.Name == &amp;quot;HELEN&amp;quot;));

            //HELEN partial name matches
            Assert.IsTrue(helensMatches.PartialNameMatches.Any(m =&amp;gt; m.Name == &amp;quot;VAN DAM&amp;quot;));

            var names = new NpiUnprocessedNamePair[] { new NpiUnprocessedNamePair() { FirstName = &amp;quot;HELEN VAN DAM&amp;quot;, LastName = &amp;quot;SMITH&amp;quot; } };


            List&amp;lt;NameAndLinkedNames&amp;gt; lastNames = new List&amp;lt;NameAndLinkedNames&amp;gt;()
            {
                 new NameAndLinkedNames()
                 {
                     Name = &amp;quot;SMITH&amp;quot;, 
                     ExactMatches = new List&amp;lt;int&amp;gt; {98989898}
                 },
                 new NameAndLinkedNames()
                 {
                     Name = &amp;quot;SMITHY&amp;quot;, 
                     ExactMatches = new List&amp;lt;int&amp;gt; {49999997}
                 },
                 new NameAndLinkedNames()
                 {
                     Name = &amp;quot;SMIT&amp;quot;, 
                     ExactMatches = new List&amp;lt;int&amp;gt; {555}
                 },
                 new NameAndLinkedNames()
                 {
                     Name = &amp;quot;SM&amp;quot;, 
                     ExactMatches = new List&amp;lt;int&amp;gt; {1111}
                 },
            };

            lastNames = NameAssociatorService.FindLinkedNames(lastNames, nameVariationsDictionary);

            var results = NameJoinerService.PerformFinalTranslationOnProcessedResults(names, firstNames, lastNames);

            //verify counts
            Assert.AreEqual(results.Count, 1);
            Assert.AreEqual(results[0].AdditionalMatches.Count, 1);
            Assert.AreEqual(results[0].AdditionalMatchesByBrokenUpNameMatch.Count, 1);
            Assert.AreEqual(results[0].AssociatedNpiEntriesByPartialNameVariation.Count, 1);
            Assert.AreEqual(results[0].ExactMatches.Count, 1);

            //verify name
            Assert.AreEqual(results[0].FirstName, &amp;quot;HELEN VAN DAM&amp;quot;);
            Assert.AreEqual(results[0].LastName, &amp;quot;SMITH&amp;quot;);

            //verify date
            Assert.IsTrue(results[0].AdditionalMatches[0] == 1111);
            Assert.IsTrue(results[0].AdditionalMatchesByBrokenUpNameMatch[0] == 555);
            Assert.IsTrue(results[0].AssociatedNpiEntriesByPartialNameVariation[0] == 49999997);
            Assert.IsTrue(results[0].ExactMatches[0] == 98989898);



        }

    }
}&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-c#&quot;&gt;&lt;code class=&quot;language-c#&quot;&gt;using System.Collections.Generic;
using System.IO;
using DBBuilder.Data;
using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace DBBuilder.Business.Test
{
    [TestClass]
    public class TestIntersectionOfFirstNameAndLastNameLookups
    {
        [TestMethod]
        public void TestIntersectionWithVariedData()
        {
            ProcessNpiMonthlyFile.LeaveStreamsOpen = true;

            using (MemoryStream ms = new MemoryStream())
            {
                List&amp;lt;NpiUnprocessedNamePair&amp;gt; npiUnprocessedNames = new List&amp;lt;NpiUnprocessedNamePair&amp;gt;
                {
                    new NpiUnprocessedNamePair()
                    {
                        FirstName = &amp;quot;JOHN-TODD&amp;quot;,
                        LastName = &amp;quot;SMITH-JOHNNIE&amp;quot;
                    },
                    new NpiUnprocessedNamePair()
                    {
                        FirstName = &amp;quot;JOHN-TODD&amp;quot;,
                        LastName = &amp;quot;HOWARD&amp;quot;
                    }
                };


                NpiProcessedNames firstNameProcessedNames = new NpiProcessedNames()
                {
                    NameDataStore = new List&amp;lt;NpiProcessedName&amp;gt;()
                    {
                        new NpiProcessedName()
                        {
                            Name = &amp;quot;JOHN-TODD&amp;quot;,
                            ExactMatches = new List&amp;lt;int&amp;gt; { 1, 99 }, //JOHN-TODD
                            AdditionalMatches = new List&amp;lt;int&amp;gt; { 2 }, //JOHN-TODDLER
                            AdditionalMatchesByBrokenUpNameMatch = new List&amp;lt;int&amp;gt; {3, 4, 9}, //TODD and TIM
                            AssociatedNpiEntriesByPartialNameVariation = new List&amp;lt;int&amp;gt; { 5 } //JOHNNIE
                        }
                    },
                    LookupIndexesForNameDataStore = new Dictionary&amp;lt;string, int&amp;gt;()
                    {
                        { &amp;quot;JOHN-TODD&amp;quot;, 0 }
                    }

                };
                NpiProcessedNames lastNameProcessedNames = new NpiProcessedNames() 
                {
                    NameDataStore = new List&amp;lt;NpiProcessedName&amp;gt;()
                    {
                        new NpiProcessedName()
                        {
                            Name = &amp;quot;SMITH-JOHNNIE&amp;quot;,
                            ExactMatches = new List&amp;lt;int&amp;gt; { 1, 9, 99 }, //SMITH-JOHNNIE
                            AdditionalMatches = new List&amp;lt;int&amp;gt; { 2, 3, 99 }, //SMITHY and TODD
                            AdditionalMatchesByBrokenUpNameMatch = new List&amp;lt;int&amp;gt; { 5, 99, 9 },
                            AssociatedNpiEntriesByPartialNameVariation = new List&amp;lt;int&amp;gt; { 99 }
                        },
                        new NpiProcessedName()
                        {
                            Name = &amp;quot;HOWARD&amp;quot;,
                            ExactMatches = new List&amp;lt;int&amp;gt; { 99 }, //HOWARD
                            AdditionalMatches = new List&amp;lt;int&amp;gt; { 777, 888, 2 }, //HOWARDEN and HOWIE
                            AdditionalMatchesByBrokenUpNameMatch = new List&amp;lt;int&amp;gt; {  },
                            AssociatedNpiEntriesByPartialNameVariation = new List&amp;lt;int&amp;gt; {  }
                        }
                    },
                    LookupIndexesForNameDataStore = new Dictionary&amp;lt;string, int&amp;gt;()
                    {
                        { &amp;quot;SMITH-JOHNNIE&amp;quot;, 0 },
                        { &amp;quot;HOWARD&amp;quot;, 1 }
                    }
                };


                var results = ProcessNpiMonthlyFile.ProduceAndSaveCompletedNpiSearchLookup(ms, npiUnprocessedNames, firstNameProcessedNames, lastNameProcessedNames);

                using (var sr = new StreamReader(ms))
                {
                    ms.Position = 0;
                    var csvRow = sr.ReadLine();

                    //1 and 99 are exact matches in both (99 is a name broken up match in lastnames but exact matches trump last names)
                    //2 is an additional match in both
                    //3 is a name broken up match in firstnames and 3 is a additional match in lastnames (broken up matches trumps additional matches)
                    //9 is a name broken up match in both and also an exact match in last names (therefore it is a name broken up match)
                    //5 is a name broken up variation match in firstnames and is a standard name broken up match in lastnames

                    //4 only exists in firstnames which is why it doesn&amp;#39;t exist in the output

                    Assert.AreEqual(@&amp;quot;JOHN-TODD,SMITH-JOHNNIE,&amp;quot;&amp;quot;1,99&amp;quot;&amp;quot;,2,&amp;quot;&amp;quot;3,9&amp;quot;&amp;quot;,5&amp;quot;, csvRow);


                    csvRow = sr.ReadLine();

                    Assert.AreEqual(@&amp;quot;JOHN-TODD,HOWARD,99,2,,&amp;quot;, csvRow);
                };
            }
        }
    }
}&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Sample code from the NameAssociatorService.cs&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-c#&quot;&gt;&lt;code class=&quot;language-c#&quot;&gt;using System;
using System.Collections.Generic;
using System.Linq;
using DBBuilder.Core.Extensions;
using DBBuilder.Data;
using NPIAPI.Data;

namespace DBBuilder.Business.Services.Stage1SingleName
{
    public class NameAssociatorService
    {
        public static List&amp;lt;NpiSplitNameUnprocessed&amp;gt; FindLinkedNamesViaPartialPieceMatch(List&amp;lt;NpiSplitNameUnprocessed&amp;gt; unprocessedSplitNames, List&amp;lt;NameAndLinkedNames&amp;gt; peopleWithFullNamesEqualToAPartialPiece)
        {
            //process partial to partial
            List&amp;lt;NpiSplitNameUnprocessed&amp;gt; allUnprocessedSplitNames = unprocessedSplitNames;
            unprocessedSplitNames = unprocessedSplitNames.AsParallel().Select(thisPerson =&amp;gt;
                {
                    thisPerson.MatchedPeopleByPartialToPartialNameMatch = allUnprocessedSplitNames.Where(otherPerson =&amp;gt;
                        {
                            bool isOtherPersonRelated = otherPerson.ThisPerson != thisPerson.ThisPerson &amp;amp;&amp;amp; thisPerson.NamePieces.Intersect(otherPerson.NamePieces).Any();
                            return isOtherPersonRelated;
                        }).Select(o =&amp;gt; o.ThisPerson).ToList();

                    return thisPerson;
                }).ToList();

            //process partial to full name
            unprocessedSplitNames = unprocessedSplitNames.AsParallel().Select(thisPerson =&amp;gt;
                {
                    thisPerson.MatchedPeopleByPartialToFullNameMatch = peopleWithFullNamesEqualToAPartialPiece.Where(otherPerson =&amp;gt;
                        thisPerson.NamePieces.Contains(otherPerson.Name)).ToList();

                    return thisPerson;
                }).ToList();


            return unprocessedSplitNames;
        }

        public static List&amp;lt;NpiSplitNameUnprocessed&amp;gt; FindLinkedNamesViaPartialVariationPieceMatch(List&amp;lt;NpiSplitNameUnprocessed&amp;gt; unprocessedSplitNames, List&amp;lt;NameAndLinkedNames&amp;gt; peopleWithFullNamesEqualToAVariationOfAPartialPiece, Dictionary&amp;lt;string, HashSet&amp;lt;string&amp;gt;&amp;gt; nameVariationLookup)
        {
            List&amp;lt;NpiSplitNameUnprocessed&amp;gt; unprocessedSplitNamesWithVariations = unprocessedSplitNames.Where(up =&amp;gt; up.NamePieceVariations.Any()).ToList();
            List&amp;lt;NpiSplitNameUnprocessed&amp;gt; unprocessedSplitNamesWithNoVariations = unprocessedSplitNames.Except(unprocessedSplitNamesWithVariations).ToList();
            List&amp;lt;NpiSplitNameUnprocessed&amp;gt; allUnprocessedSplitNames = unprocessedSplitNames;

            //process partial variation to partial
            unprocessedSplitNamesWithVariations = unprocessedSplitNamesWithVariations.AsParallel().Select(thisPerson =&amp;gt;
            {
                thisPerson.MatchedPeopleByPartialVariationToPartialNameMatch = allUnprocessedSplitNames.Where(otherPerson =&amp;gt;
                    {
                        bool isOtherPersonRelated = otherPerson.ThisPerson != thisPerson.ThisPerson &amp;amp;&amp;amp; thisPerson.NamePieceVariations.Any(nv =&amp;gt; otherPerson.NamePieces.Any(onp =&amp;gt; nameVariationLookup[nv].Contains(onp)));
                        return isOtherPersonRelated;
                    }).Select(o =&amp;gt; o.ThisPerson).ToList();

                return thisPerson;
            }).ToList();

            //process partial variation to full name
            unprocessedSplitNamesWithVariations = unprocessedSplitNamesWithVariations.AsParallel().Select(thisPerson =&amp;gt;
            {
                thisPerson.MatchedPeopleByPartialVariationToFullNameMatch = peopleWithFullNamesEqualToAVariationOfAPartialPiece.Where(otherPerson =&amp;gt;
                    thisPerson.NamePieceVariations.Any(nv =&amp;gt; nameVariationLookup[nv].Contains(otherPerson.Name))).ToList();

                return thisPerson;
            }).ToList();

            return unprocessedSplitNamesWithVariations.Concat(unprocessedSplitNamesWithNoVariations).ToList();
        }

        public static List&amp;lt;NameAndLinkedNames&amp;gt; FindLinkedNames(List&amp;lt;NameAndLinkedNames&amp;gt; uniqueNamesAndExactMatches, Dictionary&amp;lt;string, HashSet&amp;lt;string&amp;gt;&amp;gt; nameVariationLookup)
        {
            List&amp;lt;NameAndLinkedNames&amp;gt; results;

            Console.WriteLine(@&amp;quot;uniqueNamesAndExactMatches count: {0}&amp;quot;, uniqueNamesAndExactMatches.Count);

            //process normal names using standard smart like match
            {
                NamesGroupedByNameCharLength[] uniqueFirstnamesAndExactMatchesGroupedByNameLength = uniqueNamesAndExactMatches.AsParallel()
                    .GroupBy(n =&amp;gt; n.Name.Length)
                    .Select(n =&amp;gt; new NamesGroupedByNameCharLength() { NameCharLength = n.Key, AllNamesAtThisCharLength = n.Select(k =&amp;gt; k).ToList() })
                    .OrderBy(n =&amp;gt; n.NameCharLength)
                    .ToArray();

                results = NameAssociatorService.FindLinkedNamesWithSmartLikeMatch(uniqueFirstnamesAndExactMatchesGroupedByNameLength);

                Console.WriteLine(@&amp;quot;namesAssociatedWithSmartLikeMatch count: {0}&amp;quot;, results.Count);
            }


            //process broken piece names using standard smart like match
            {
                List&amp;lt;NameAndLinkedNames&amp;gt; peopleWithNamesThatCanBeBrokenUp = results.AsParallel().Where(s =&amp;gt; s.Name.NameCanBeSplitOrIsInitial()).ToList();
                Console.WriteLine(@&amp;quot;peopleWithNamesThatCanBeBrokenUp count: {0}&amp;quot;, peopleWithNamesThatCanBeBrokenUp.Count);

                //remove from results
                results = results.Except(peopleWithNamesThatCanBeBrokenUp).ToList();

                //process broken piece names further and finally add the processed results 
                HashSet&amp;lt;string&amp;gt; allUniqueNamePieces =
                    new HashSet&amp;lt;string&amp;gt;(peopleWithNamesThatCanBeBrokenUp.AsParallel().SelectMany(s =&amp;gt; s.Name.SplitNameIntoPieces()).Distinct());
                Console.WriteLine(@&amp;quot;allUniqueNamePieces count: {0}&amp;quot;, allUniqueNamePieces.Count);

                HashSet&amp;lt;string&amp;gt; allUniqueNamePieceVariations = new HashSet&amp;lt;string&amp;gt;(allUniqueNamePieces.Where(nameVariationLookup.ContainsKey).SelectMany(namePiece =&amp;gt; nameVariationLookup[namePiece]));
                Console.WriteLine(@&amp;quot;allUniqueNamePieceVariations count: {0}&amp;quot;, allUniqueNamePieceVariations.Count);

                List&amp;lt;NameAndLinkedNames&amp;gt; peopleWithFullNamesEqualToAPartialPiece = uniqueNamesAndExactMatches.Except(peopleWithNamesThatCanBeBrokenUp).AsParallel().Where(s =&amp;gt; allUniqueNamePieces.Contains(s.Name)).ToList();
                Console.WriteLine(@&amp;quot;peopleWithFullNamesEqualToAPartialPiece count: {0}&amp;quot;, peopleWithFullNamesEqualToAPartialPiece.Count);

                List&amp;lt;NameAndLinkedNames&amp;gt; peopleWithFullNamesEqualToAVariationOfAPartialPiece = uniqueNamesAndExactMatches.Except(peopleWithNamesThatCanBeBrokenUp).AsParallel().Where(s =&amp;gt; allUniqueNamePieceVariations.Contains(s.Name)).ToList();
                Console.WriteLine(@&amp;quot;peopleWithFullNamesEqualToAVariationOfAPartialPiece count: {0}&amp;quot;, peopleWithFullNamesEqualToAVariationOfAPartialPiece.Count);

                //ready data (all these people have already been filtered from peopleWithNamesThatCanBeBrokenUp)
                List&amp;lt;NpiSplitNameUnprocessed&amp;gt; readiedDataForSplitNameMatches = peopleWithNamesThatCanBeBrokenUp.AsParallel().Select(thisPerson =&amp;gt;
                {
                    var thisPersonsNamePieces = thisPerson.Name.SplitNameIntoPieces().ToList();
                    var thisPersonsNamePieceVariations = thisPersonsNamePieces.Where(nameVariationLookup.ContainsKey).ToList();
                    return new NpiSplitNameUnprocessed { ThisPerson = thisPerson, NamePieces = thisPersonsNamePieces, NamePieceVariations = thisPersonsNamePieceVariations };
                }).ToList();

                //process non-variation
                readiedDataForSplitNameMatches = FindLinkedNamesViaPartialPieceMatch(readiedDataForSplitNameMatches, peopleWithFullNamesEqualToAPartialPiece);

                //process variation
                readiedDataForSplitNameMatches = FindLinkedNamesViaPartialVariationPieceMatch(readiedDataForSplitNameMatches, peopleWithFullNamesEqualToAVariationOfAPartialPiece, nameVariationLookup);

                //add to main list
                results.AddRange(readiedDataForSplitNameMatches.Select(Mappers.MapFrom));
            }

            //process all names using standard variation match
            {
                //get from results
                NameAndLinkedNames[] peopleWithNameVariations = results.Where(s =&amp;gt; nameVariationLookup.ContainsKey(s.Name)).ToArray();

                Console.WriteLine(@&amp;quot;peopleWithNameVariations count: {0}&amp;quot;, peopleWithNameVariations.Length);

                //remove from results
                results = results.Except(peopleWithNameVariations).ToList();

                //process
                NameAndLinkedNames[] processedPeopleWithNameVariations = peopleWithNameVariations.AsParallel().Select(thisPerson =&amp;gt;
                {
                    HashSet&amp;lt;string&amp;gt; variations = nameVariationLookup[thisPerson.Name];

                    List&amp;lt;NameAndLinkedNames&amp;gt; relatedPeopleByNameVariation = peopleWithNameVariations.Where(otherPerson =&amp;gt; variations.Contains(otherPerson.Name)).ToList();

                    thisPerson.NameVariationMatches = relatedPeopleByNameVariation;

                    return thisPerson;

                }).ToArray();

                //add back to results
                results.AddRange(processedPeopleWithNameVariations);

                Console.WriteLine(@&amp;quot;processedPeopleWithNameVariations count: {0}&amp;quot;, results.Count);
            }

            return results;
        }

        private static List&amp;lt;NameAndLinkedNames&amp;gt; FindLinkedNamesWithSmartLikeMatch(NamesGroupedByNameCharLength[] namesOrderedByNameLengthAsc)
        {
            if (namesOrderedByNameLengthAsc == null || namesOrderedByNameLengthAsc.Length &amp;lt; 1)
            {
                return new List&amp;lt;NameAndLinkedNames&amp;gt;();
            }

            int lastIndex = namesOrderedByNameLengthAsc.Length - 1;
            Console.WriteLine(@&amp;quot;Shortest name length: {0}&amp;quot;, namesOrderedByNameLengthAsc[0].NameCharLength);
            Console.WriteLine(@&amp;quot;Longest name length: {0}&amp;quot;, namesOrderedByNameLengthAsc[lastIndex].NameCharLength);

            for (int i = 0; i &amp;lt; namesOrderedByNameLengthAsc.Length; i++)
            {
                int nameLength = namesOrderedByNameLengthAsc[i].NameCharLength;

                if (nameLength &amp;lt; 2)
                {
                    continue;
                }

                Console.WriteLine(@&amp;quot;Starting processing of all names with name char length of : {0}&amp;quot;, nameLength);

                List&amp;lt;NameAndLinkedNames&amp;gt; allNamesAtThisCharLength = namesOrderedByNameLengthAsc[i].AllNamesAtThisCharLength;

                int indexOfNext = i + 1;
                int countOfRemainingElementsAfterNext = namesOrderedByNameLengthAsc.Length - (indexOfNext);

                ArraySegment&amp;lt;NamesGroupedByNameCharLength&amp;gt;? allShorterNames = null, allLongerNames = null;
                bool processShortNames = false, processLongerNames = false;

                if (i &amp;gt; 0)
                {
                    allShorterNames = new ArraySegment&amp;lt;NamesGroupedByNameCharLength&amp;gt;(namesOrderedByNameLengthAsc, 0, i);
                    processShortNames = true;
                }

                if (i &amp;lt; lastIndex)
                {
                    allLongerNames = new ArraySegment&amp;lt;NamesGroupedByNameCharLength&amp;gt;(namesOrderedByNameLengthAsc, indexOfNext, countOfRemainingElementsAfterNext);
                    processLongerNames = true;
                }


                if (processShortNames &amp;amp;&amp;amp; processLongerNames)
                {
                    namesOrderedByNameLengthAsc[i].AllNamesAtThisCharLength = allNamesAtThisCharLength.AsParallel().Select(thisPerson =&amp;gt;
                    {
                        string thisPersonsName = thisPerson.Name;
                        thisPerson.ShorterNameLikeMatches = allShorterNames.Value.SelectMany(s =&amp;gt; s.AllNamesAtThisCharLength)
                                .Where(personWithShorterName =&amp;gt; thisPersonsName.StringContainsFast(personWithShorterName.Name)).ToList();

                        thisPerson.LongerNameLikeMatches = allLongerNames.Value.SelectMany(s =&amp;gt; s.AllNamesAtThisCharLength)
                                .Where(personWithLongerName =&amp;gt; personWithLongerName.Name.StringContainsFast(thisPersonsName)).ToList();

                        return thisPerson;
                    }).ToList();
                }
                else if (processShortNames)
                {
                    namesOrderedByNameLengthAsc[i].AllNamesAtThisCharLength = allNamesAtThisCharLength.AsParallel().Select(thisPerson =&amp;gt;
                    {
                        string thisPersonsName = thisPerson.Name;
                        thisPerson.ShorterNameLikeMatches = allShorterNames.Value.SelectMany(s =&amp;gt; s.AllNamesAtThisCharLength)
                                .Where(personWithShorterName =&amp;gt; thisPersonsName.StringContainsFast(personWithShorterName.Name)).ToList();

                        return thisPerson;
                    }).ToList();
                }
                else if (processLongerNames)
                {
                    namesOrderedByNameLengthAsc[i].AllNamesAtThisCharLength = allNamesAtThisCharLength.AsParallel().Select(thisPerson =&amp;gt;
                    {
                        string thisPersonsName = thisPerson.Name;
                        thisPerson.LongerNameLikeMatches = allLongerNames.Value.SelectMany(s =&amp;gt; s.AllNamesAtThisCharLength)
                                .Where(personWithLongerName =&amp;gt; personWithLongerName.Name.StringContainsFast(thisPersonsName)).ToList();

                        return thisPerson;

                    }).ToList();
                }
            }

            List&amp;lt;NameAndLinkedNames&amp;gt; results = namesOrderedByNameLengthAsc.AsParallel().SelectMany(n =&amp;gt; n.AllNamesAtThisCharLength).ToList();

            return results;
        }
    }
}&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Attaching multiple databases&lt;/h2&gt;
&lt;p&gt;On the device itself, there was a filesystem limitation of 2GB per file. I had to attach multiple SQLite databases to avoid the 2GB file size limitation. See PhoneGap plugin JavaScript code below:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;db &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sqlitePlugin&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;openDatabase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;npi-lookup-database-v2.db&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1.0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;lookup&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;executeSql&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ATTACH DATABASE &apos;/sdcard/npi-datastore-database1.db&apos; as &apos;datastore1&apos;;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; undefined&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;forceUserToRedownloadDatabases&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;executeSql&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ATTACH DATABASE &apos;/sdcard/npi-datastore-database2.db&apos; as &apos;datastore2&apos;;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; undefined&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;forceUserToRedownloadDatabases&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;executeSql&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ATTACH DATABASE &apos;/sdcard/npi-datastore-database3.db&apos; as &apos;datastore3&apos;;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; undefined&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;forceUserToRedownloadDatabases&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Querying those three databases, using UNION ALL&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;Database&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;queryDatabaseByNpiNumber&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;npinumber&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; self &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; commonSqlSelectStatement &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos; SELECT rowid, NPI, ProviderFirstName, ProviderMiddleName, ProviderLastNameLegalName, ProviderFirstLineBusinessMailingAddress, ProviderSecondLineBusinessMailingAddress,&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos; ProviderBusinessMailingAddressCityName, ProviderBusinessMailingAddressStateName, ProviderBusinessMailingAddressPostalCode, ProviderBusinessMailingAddressCountryCodeIfoutsideUS &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; fromDataStore1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos; FROM datastore1.NPI WHERE NPI = ?1 UNION ALL &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; fromDataStore2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos; FROM datastore2.NPI WHERE NPI = ?1 UNION ALL &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; fromDataStore3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos; FROM datastore3.NPI WHERE NPI = ?1 LIMIT 1;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; sqlStatement &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; commonSqlSelectStatement &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; fromDataStore1 &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; commonSqlSelectStatement &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; fromDataStore2 &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; commonSqlSelectStatement &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; fromDataStore3&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; sqlStatement&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;In summary&lt;/h2&gt;
&lt;p&gt;It is possible to have a fast/usable large database on an underpowered mobile device. However, you must arrange the data in a way that the device can retrieve what it needs with minimal effort. The tablet requires a bespoke database explicitly designed with its usage in mind.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Linking in-text citations to numbered references on a page]]></title><description><![CDATA[Imagine you are a software developer for an online academic publisher. You have been asked to enhance the usability of an existing site…]]></description><link>https://www.paulness.com/linking-in-text-citations-to-numbered-references-on-hover/</link><guid isPermaLink="false">https://www.paulness.com/linking-in-text-citations-to-numbered-references-on-hover/</guid><content:encoded>&lt;p&gt;Imagine you are a software developer for an online academic publisher. You have been asked to enhance the usability of an existing site:&lt;/p&gt;
&lt;p&gt;&lt;b&gt;Requirement&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;When hovering over any given in-text citation, show a tooltip with the actual corresponding reference text.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;An example of in-text citations and references:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div style=&quot;font-size:65%&quot;&gt;
&lt;div&gt;Finding treatments for breast cancer is a major goal for scientists.&lt;sup&gt;1,2&lt;/sup&gt; Some classes of drugs show more promise than others. Gradishar evaluated taxanes as a class.&lt;sup&gt;3&lt;/sup&gt; Other scientists have investigated individual drugs within this class, including Andre and Zielinski &lt;sup&gt;2&lt;/sup&gt; and Joensuu and Gligorov. &lt;sup&gt;4&lt;/sup&gt; Mita et al&apos;s investigation of cabazitaxel &lt;sup&gt;5&lt;/sup&gt; seems to indicate a new role for this class of drugs.&lt;/div&gt;
&lt;div&gt;&lt;br/&gt;
  &lt;div&gt;&lt;b&gt;References&lt;/b&gt;&lt;/div&gt;
&lt;p&gt;1. Cancer Research Funding. National Cancer Institute. http://www.cancer.gov.offcampus.lib.washington.edu/cancertopics/factsheet/NCI/research-funding. Publication date unavailable. Updated June 6, 2011. Accessed November 3, 2012.&lt;/p&gt;
&lt;p&gt;2. Andre F, Zielinski CC. Optimal strategies for the treatment of metastatic triple-negative breast cancer with currently approved agents. Ann Oncol. 2012;23(Suppl 2):vi46-vi51.&lt;/p&gt;
&lt;p&gt;3. Gradishar WJ. Taxanes for the treatment of metastatic breast cancer. Breast Cancer (Auckl.). 2012;6:159-171.&lt;/p&gt;
&lt;p&gt;4. Joensuu H, Gligorov J. Adjuvant treatments for triple-negative breast cancers. Ann Oncol. 2012;Suppl 6:vi40-45.&lt;/p&gt;
&lt;p&gt;5. Mita AC, Figlin R, Mita MM. Cabazitaxel: more than a new taxane for metastatic castrate-resistant prostate cancer? Clin Cancer Res. 2012;18(24):OF1-OF&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;b&gt;Explanation of the problem&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;Online readers are well aware that&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;1 refers to [reference 1]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1,3,5 refers to [1, 3 and 5]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1-3 refers to [1, 2 and 3]&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Unfortunately, there is no concrete relationship between the superscript in-text citation and its corresponding reference. The publisher has no desire to update thousands of online papers by hand either. The HTML code is as follows.&lt;/p&gt;
&lt;p&gt;In-text citation&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;sup&amp;gt;1&amp;lt;/sup&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Reference&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;p&amp;gt;1. Cancer Research Funding. National Cancer Institute. http://www.cancer.gov.offcampus.lib.washington.edu/cancertopics/factsheet/NCI/research-funding. Publication date unavailable. Updated June 6, 2011. Accessed November 3, 2012.&amp;lt;/p&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;b&gt;Solution&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;We must create a concrete “one to one” relationship, between these two HTML elements. Once you have connected the two HTML elements with a set of rules, you may store this relationship to create a reliable way to show the correct tooltip.&lt;/p&gt;
&lt;p&gt;Firstly we must ‘define the relationship’ in verbose terms/rules/exceptions:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Any superscripted text inside the academic paper body is considered to be an ‘in-text citation’, if the text is of the form of:
  &lt;ul&gt;
    &lt;li&gt;Digit&lt;/li&gt;
    &lt;li&gt;Digit comma digit …&lt;/li&gt;
    &lt;li&gt;Digit hyphen digit …&lt;/li&gt;
  &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Much like a book, where the references come after the citations. The corresponding reference must be appear below the in-text citation on the page&lt;/li&gt;
  &lt;li&gt;The citation must refer to an actual reference on the page&lt;/li&gt;
  &lt;li&gt;The citation must find the closest reference within the same page, since multiple papers can exist on the same page&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Source code&lt;/h3&gt;
&lt;p&gt;For brevity a JavaScript alert is used to show the reference text on hover, please modify this to a tooltip of your liking.&lt;/p&gt;
&lt;iframe width=&quot;100%&quot; height=&quot;300&quot; src=&quot;//jsfiddle.net/1hxg629k/embedded/js,html,result/&quot; allowpaymentrequest allowfullscreen=&quot;allowfullscreen&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;</content:encoded></item></channel></rss>